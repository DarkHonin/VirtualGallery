import{d as f,c as v,a as y,r as w,n as b,o as u,b as n,u as V,e as m,w as h,f as S,g as L,h as i,_ as $,i as k,j as x}from"./index-DqsONkSA.js";import{_ as p,a as B}from"./Base.button.vue_vue_type_style_index_0_lang-BQrAuc55.js";const E=f({__name:"Layout.split",props:{direction:{default:()=>"horizontal"},cells:{default:()=>2},stick:{}},setup(c){const e=c,s=v(()=>e.direction=="horizontal"?`grid-template-columns: repeat(${e.cells}, 1fr)`:`grid-template-rows: repeat(${e.cells}, 1fr)`);return(l,d)=>(u(),y("div",{class:"layout-split",style:b(s.value)},[w(l.$slots,"default")],4))}}),C=f({__name:"Login.view",setup(c){const e=n(),s=n(),l=n(!1),d=V(),o=!0,g=S(),_=async()=>{if(e.value)try{l.value=!0,await new Promise(a=>setTimeout(a,5e3)),o&&await d.signInWPass(e.value,s.value),g.replace({name:"profile"})}catch(a){a instanceof Error?alert(a.message):alert(typeof a=="string"?a:"Something went wrong...")}finally{l.value=!1}};return(a,t)=>(u(),m(E,{cells:3},{default:h(()=>[L("form",{class:"vert justify-center items-center col-start-2",onSubmit:k(_,["prevent"])},[i(p,{label:"Email Address",modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=r=>e.value=r),placeholder:"example@mail.com",type:"email",required:""},null,8,["modelValue"]),o?(u(),m(p,{key:0,label:"Password",modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=r=>s.value=r),placeholder:"*********",type:"password",required:""},null,8,["modelValue"])):x("",!0),i(B,{type:"submit",label:o?"Login":"Send Magic Link",disabled:!e.value,loading:l.value},null,8,["label","disabled","loading"]),i($,{class:"m-auto",loading:l.value,message:"Logging in..."},null,8,["loading"])],32)]),_:1}))}});export{C as default};
