const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login.view-199_3d2t.js","assets/Base.button.vue_vue_type_style_index_0_lang-BQrAuc55.js","assets/Base.button-DwTDr2Vg.css","assets/Artworks.view-DwHFPB-A.js","assets/Base.grid.vue_vue_type_script_setup_true_lang-w4geEqoa.js","assets/Artwork.view-QC_5frTq.js","assets/Slots.view-ByPLvuYk.js","assets/Slot.view-BUk7bLGb.js","assets/Slot-DRr5z_Zs.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Tn(t,e){const s=new Set(t.split(","));return r=>s.has(r)}const fe={},os=[],He=()=>{},Cl=()=>!1,vr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Rn=t=>t.startsWith("onUpdate:"),Ee=Object.assign,$n=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Tl=Object.prototype.hasOwnProperty,Q=(t,e)=>Tl.call(t,e),F=Array.isArray,as=t=>Gs(t)==="[object Map]",Co=t=>Gs(t)==="[object Set]",Rl=t=>Gs(t)==="[object RegExp]",q=t=>typeof t=="function",de=t=>typeof t=="string",Pt=t=>typeof t=="symbol",ue=t=>t!==null&&typeof t=="object",To=t=>(ue(t)||q(t))&&q(t.then)&&q(t.catch),Ro=Object.prototype.toString,Gs=t=>Ro.call(t),$l=t=>Gs(t).slice(8,-1),$o=t=>Gs(t)==="[object Object]",jn=t=>de(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Cs=Tn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),yr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},jl=/-(\w)/g,Qe=yr(t=>t.replace(jl,(e,s)=>s?s.toUpperCase():"")),Il=/\B([A-Z])/g,Kt=yr(t=>t.replace(Il,"-$1").toLowerCase()),wr=yr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Br=yr(t=>t?`on${wr(t)}`:""),Et=(t,e)=>!Object.is(t,e),Ts=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},jo=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Ll=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let fi;const Io=()=>fi||(fi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function br(t){if(F(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=de(r)?Nl(r):br(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(de(t)||ue(t))return t}const Dl=/;(?![^(]*\))/g,Ul=/:([^]+)/,Ml=/\/\*[^]*?\*\//g;function Nl(t){const e={};return t.replace(Ml,"").split(Dl).forEach(s=>{if(s){const r=s.split(Ul);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Xe(t){let e="";if(de(t))e=t;else if(F(t))for(let s=0;s<t.length;s++){const r=Xe(t[s]);r&&(e+=r+" ")}else if(ue(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}function Fl(t){if(!t)return null;let{class:e,style:s}=t;return e&&!de(e)&&(t.class=Xe(e)),s&&(t.style=br(s)),t}const Bl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Hl=Tn(Bl);function Lo(t){return!!t||t===""}const Do=t=>!!(t&&t.__v_isRef===!0),Sr=t=>de(t)?t:t==null?"":F(t)||ue(t)&&(t.toString===Ro||!q(t.toString))?Do(t)?Sr(t.value):JSON.stringify(t,Uo,2):String(t),Uo=(t,e)=>Do(e)?Uo(t,e.value):as(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Hr(r,i)+" =>"]=n,s),{})}:Co(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Hr(s))}:Pt(e)?Hr(e):ue(e)&&!F(e)&&!$o(e)?String(e):e,Hr=(t,e="")=>{var s;return Pt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Re;class Mo{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Re,!e&&Re&&(this.index=(Re.scopes||(Re.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const s=Re;try{return Re=this,e()}finally{Re=s}}}on(){Re=this}off(){Re=this.parent}stop(e){if(this._active){let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.scopes)for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function No(t){return new Mo(t)}function zl(t,e=Re){e&&e.active&&e.effects.push(t)}function Fo(){return Re}function ql(t){Re&&Re.cleanups.push(t)}let Nt;class In{constructor(e,s,r,n){this.fn=e,this.trigger=s,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,zl(this,n)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Ot();for(let e=0;e<this._depsLength;e++){const s=this.deps[e];if(s.computed&&(Vl(s.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),xt()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=St,s=Nt;try{return St=!0,Nt=this,this._runnings++,di(this),this.fn()}finally{pi(this),this._runnings--,Nt=s,St=e}}stop(){this.active&&(di(this),pi(this),this.onStop&&this.onStop(),this.active=!1)}}function Vl(t){return t.value}function di(t){t._trackId++,t._depsLength=0}function pi(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Bo(t.deps[e],t);t.deps.length=t._depsLength}}function Bo(t,e){const s=t.get(e);s!==void 0&&e._trackId!==s&&(t.delete(e),t.size===0&&t.cleanup())}let St=!0,on=0;const Ho=[];function Ot(){Ho.push(St),St=!1}function xt(){const t=Ho.pop();St=t===void 0?!0:t}function Ln(){on++}function Dn(){for(on--;!on&&an.length;)an.shift()()}function zo(t,e,s){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&Bo(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const an=[];function qo(t,e,s){Ln();for(const r of t.keys()){let n;r._dirtyLevel<e&&(n??(n=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(n??(n=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&an.push(r.scheduler)))}Dn()}const Vo=(t,e)=>{const s=new Map;return s.cleanup=t,s.computed=e,s},dr=new WeakMap,Ft=Symbol(""),ln=Symbol("");function Oe(t,e,s){if(St&&Nt){let r=dr.get(t);r||dr.set(t,r=new Map);let n=r.get(s);n||r.set(s,n=Vo(()=>r.delete(s))),zo(Nt,n)}}function ct(t,e,s,r,n,i){const o=dr.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(s==="length"&&F(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!Pt(c)&&c>=l)&&a.push(u)})}else switch(s!==void 0&&a.push(o.get(s)),e){case"add":F(t)?jn(s)&&a.push(o.get("length")):(a.push(o.get(Ft)),as(t)&&a.push(o.get(ln)));break;case"delete":F(t)||(a.push(o.get(Ft)),as(t)&&a.push(o.get(ln)));break;case"set":as(t)&&a.push(o.get(Ft));break}Ln();for(const l of a)l&&qo(l,4);Dn()}function Kl(t,e){const s=dr.get(t);return s&&s.get(e)}const Gl=Tn("__proto__,__v_isRef,__isVue"),Ko=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Pt)),gi=Wl();function Wl(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...s){const r=X(this);for(let i=0,o=this.length;i<o;i++)Oe(r,"get",i+"");const n=r[e](...s);return n===-1||n===!1?r[e](...s.map(X)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...s){Ot(),Ln();const r=X(this)[e].apply(this,s);return Dn(),xt(),r}}),t}function Jl(t){Pt(t)||(t=String(t));const e=X(this);return Oe(e,"has",t),e.hasOwnProperty(t)}class Go{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?lc:Xo:i?Qo:Jo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=F(e);if(!n){if(o&&Q(gi,s))return Reflect.get(gi,s,r);if(s==="hasOwnProperty")return Jl}const a=Reflect.get(e,s,r);return(Pt(s)?Ko.has(s):Gl(s))||(n||Oe(e,"get",s),i)?a:_e(a)?o&&jn(s)?a:a.value:ue(a)?n?Zo(a):ms(a):a}}class Wo extends Go{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=zt(i);if(!ds(r)&&!zt(r)&&(i=X(i),r=X(r)),!F(e)&&_e(i)&&!_e(r))return l?!1:(i.value=r,!0)}const o=F(e)&&jn(s)?Number(s)<e.length:Q(e,s),a=Reflect.set(e,s,r,n);return e===X(n)&&(o?Et(r,i)&&ct(e,"set",s,r):ct(e,"add",s,r)),a}deleteProperty(e,s){const r=Q(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&ct(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!Pt(s)||!Ko.has(s))&&Oe(e,"has",s),r}ownKeys(e){return Oe(e,"iterate",F(e)?"length":Ft),Reflect.ownKeys(e)}}class Ql extends Go{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Xl=new Wo,Yl=new Ql,Zl=new Wo(!0);const Un=t=>t,kr=t=>Reflect.getPrototypeOf(t);function Ys(t,e,s=!1,r=!1){t=t.__v_raw;const n=X(t),i=X(e);s||(Et(e,i)&&Oe(n,"get",e),Oe(n,"get",i));const{has:o}=kr(n),a=r?Un:s?Bn:Ms;if(o.call(n,e))return a(t.get(e));if(o.call(n,i))return a(t.get(i));t!==n&&t.get(e)}function Zs(t,e=!1){const s=this.__v_raw,r=X(s),n=X(t);return e||(Et(t,n)&&Oe(r,"has",t),Oe(r,"has",n)),t===n?s.has(t):s.has(t)||s.has(n)}function er(t,e=!1){return t=t.__v_raw,!e&&Oe(X(t),"iterate",Ft),Reflect.get(t,"size",t)}function _i(t,e=!1){!e&&!ds(t)&&!zt(t)&&(t=X(t));const s=X(this);return kr(s).has.call(s,t)||(s.add(t),ct(s,"add",t,t)),this}function mi(t,e,s=!1){!s&&!ds(e)&&!zt(e)&&(e=X(e));const r=X(this),{has:n,get:i}=kr(r);let o=n.call(r,t);o||(t=X(t),o=n.call(r,t));const a=i.call(r,t);return r.set(t,e),o?Et(e,a)&&ct(r,"set",t,e):ct(r,"add",t,e),this}function vi(t){const e=X(this),{has:s,get:r}=kr(e);let n=s.call(e,t);n||(t=X(t),n=s.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return n&&ct(e,"delete",t,void 0),i}function yi(){const t=X(this),e=t.size!==0,s=t.clear();return e&&ct(t,"clear",void 0,void 0),s}function tr(t,e){return function(r,n){const i=this,o=i.__v_raw,a=X(o),l=e?Un:t?Bn:Ms;return!t&&Oe(a,"iterate",Ft),o.forEach((u,c)=>r.call(n,l(u),l(c),i))}}function sr(t,e,s){return function(...r){const n=this.__v_raw,i=X(n),o=as(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?Un:e?Bn:Ms;return!e&&Oe(i,"iterate",l?ln:Ft),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function ft(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ec(){const t={get(i){return Ys(this,i)},get size(){return er(this)},has:Zs,add:_i,set:mi,delete:vi,clear:yi,forEach:tr(!1,!1)},e={get(i){return Ys(this,i,!1,!0)},get size(){return er(this)},has:Zs,add(i){return _i.call(this,i,!0)},set(i,o){return mi.call(this,i,o,!0)},delete:vi,clear:yi,forEach:tr(!1,!0)},s={get(i){return Ys(this,i,!0)},get size(){return er(this,!0)},has(i){return Zs.call(this,i,!0)},add:ft("add"),set:ft("set"),delete:ft("delete"),clear:ft("clear"),forEach:tr(!0,!1)},r={get(i){return Ys(this,i,!0,!0)},get size(){return er(this,!0)},has(i){return Zs.call(this,i,!0)},add:ft("add"),set:ft("set"),delete:ft("delete"),clear:ft("clear"),forEach:tr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=sr(i,!1,!1),s[i]=sr(i,!0,!1),e[i]=sr(i,!1,!0),r[i]=sr(i,!0,!0)}),[t,s,e,r]}const[tc,sc,rc,nc]=ec();function Mn(t,e){const s=e?t?nc:rc:t?sc:tc;return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(Q(s,n)&&n in r?s:r,n,i)}const ic={get:Mn(!1,!1)},oc={get:Mn(!1,!0)},ac={get:Mn(!0,!1)};const Jo=new WeakMap,Qo=new WeakMap,Xo=new WeakMap,lc=new WeakMap;function cc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uc(t){return t.__v_skip||!Object.isExtensible(t)?0:cc($l(t))}function ms(t){return zt(t)?t:Nn(t,!1,Xl,ic,Jo)}function Yo(t){return Nn(t,!1,Zl,oc,Qo)}function Zo(t){return Nn(t,!0,Yl,ac,Xo)}function Nn(t,e,s,r,n){if(!ue(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=uc(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function Bt(t){return zt(t)?Bt(t.__v_raw):!!(t&&t.__v_isReactive)}function zt(t){return!!(t&&t.__v_isReadonly)}function ds(t){return!!(t&&t.__v_isShallow)}function ea(t){return t?!!t.__v_raw:!1}function X(t){const e=t&&t.__v_raw;return e?X(e):t}function Fn(t){return Object.isExtensible(t)&&jo(t,"__v_skip",!0),t}const Ms=t=>ue(t)?ms(t):t,Bn=t=>ue(t)?Zo(t):t;class ta{constructor(e,s,r,n){this.getter=e,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new In(()=>e(this._value),()=>lr(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=r}get value(){const e=X(this);return(!e._cacheable||e.effect.dirty)&&Et(e._value,e._value=e.effect.run())&&lr(e,4),sa(e),e.effect._dirtyLevel>=2&&lr(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function hc(t,e,s=!1){let r,n;const i=q(t);return i?(r=t,n=He):(r=t.get,n=t.set),new ta(r,n,i||!n,s)}function sa(t){var e;St&&Nt&&(t=X(t),zo(Nt,(e=t.dep)!=null?e:t.dep=Vo(()=>t.dep=void 0,t instanceof ta?t:void 0)))}function lr(t,e=4,s,r){t=X(t);const n=t.dep;n&&qo(n,e)}function _e(t){return!!(t&&t.__v_isRef===!0)}function qt(t){return ra(t,!1)}function fc(t){return ra(t,!0)}function ra(t,e){return _e(t)?t:new dc(t,e)}class dc{constructor(e,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?e:X(e),this._value=s?e:Ms(e)}get value(){return sa(this),this._value}set value(e){const s=this.__v_isShallow||ds(e)||zt(e);e=s?e:X(e),Et(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=s?e:Ms(e),lr(this,4))}}function se(t){return _e(t)?t.value:t}const pc={get:(t,e,s)=>se(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return _e(n)&&!_e(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function na(t){return Bt(t)?t:new Proxy(t,pc)}function gc(t){const e=F(t)?new Array(t.length):{};for(const s in t)e[s]=mc(t,s);return e}class _c{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Kl(X(this._object),this._key)}}function mc(t,e,s){const r=t[e];return _e(r)?r:new _c(t,e,s)}/**
* @vue/runtime-core v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function kt(t,e,s,r){try{return r?t(...r):t()}catch(n){Er(n,e,s)}}function Je(t,e,s,r){if(q(t)){const n=kt(t,e,s,r);return n&&To(n)&&n.catch(i=>{Er(i,e,s)}),n}if(F(t)){const n=[];for(let i=0;i<t.length;i++)n.push(Je(t[i],e,s,r));return n}}function Er(t,e,s,r=!0){const n=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){Ot(),kt(l,null,10,[t,o,a]),xt();return}}vc(t,s,n,r)}function vc(t,e,s,r=!0){console.error(t)}let Ns=!1,cn=!1;const Se=[];let st=0;const ls=[];let _t=null,Dt=0;const ia=Promise.resolve();let Hn=null;function zn(t){const e=Hn||ia;return t?e.then(this?t.bind(this):t):e}function yc(t){let e=st+1,s=Se.length;for(;e<s;){const r=e+s>>>1,n=Se[r],i=Fs(n);i<t||i===t&&n.pre?e=r+1:s=r}return e}function qn(t){(!Se.length||!Se.includes(t,Ns&&t.allowRecurse?st+1:st))&&(t.id==null?Se.push(t):Se.splice(yc(t.id),0,t),oa())}function oa(){!Ns&&!cn&&(cn=!0,Hn=ia.then(la))}function wc(t){const e=Se.indexOf(t);e>st&&Se.splice(e,1)}function bc(t){F(t)?ls.push(...t):(!_t||!_t.includes(t,t.allowRecurse?Dt+1:Dt))&&ls.push(t),oa()}function wi(t,e,s=Ns?st+1:0){for(;s<Se.length;s++){const r=Se[s];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Se.splice(s,1),s--,r()}}}function aa(t){if(ls.length){const e=[...new Set(ls)].sort((s,r)=>Fs(s)-Fs(r));if(ls.length=0,_t){_t.push(...e);return}for(_t=e,Dt=0;Dt<_t.length;Dt++){const s=_t[Dt];s.active!==!1&&s()}_t=null,Dt=0}}const Fs=t=>t.id==null?1/0:t.id,Sc=(t,e)=>{const s=Fs(t)-Fs(e);if(s===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return s};function la(t){cn=!1,Ns=!0,Se.sort(Sc);try{for(st=0;st<Se.length;st++){const e=Se[st];e&&e.active!==!1&&kt(e,e.i,e.i?15:14)}}finally{st=0,Se.length=0,aa(),Ns=!1,Hn=null,(Se.length||ls.length)&&la()}}let we=null,ca=null;function pr(t){const e=we;return we=t,ca=t&&t.type.__scopeId||null,e}function Ge(t,e=we,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Ri(-1);const i=pr(e);let o;try{o=t(...n)}finally{pr(i),r._d&&Ri(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Tt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Ot(),Je(l,s,8,[t.el,a,t,e]),xt())}}function Vn(t,e){t.shapeFlag&6&&t.component?Vn(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function je(t,e){return q(t)?Ee({name:t.name},e,{setup:t}):t}const cs=t=>!!t.type.__asyncLoader,ua=t=>t.type.__isKeepAlive,kc={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const s=Ma(),r=s.ctx;if(!r.renderer)return()=>{const y=e.default&&e.default();return y&&y.length===1?y[0]:y};const n=new Map,i=new Set;let o=null;const a=s.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:h}}}=r,p=h("div");r.activate=(y,b,P,D,N)=>{const V=y.component;u(y,b,P,0,a),l(V.vnode,y,b,P,V,a,D,y.slotScopeIds,N),ve(()=>{V.isDeactivated=!1,V.a&&Ts(V.a);const z=y.props&&y.props.onVnodeMounted;z&&Me(z,V.parent,y)},a)},r.deactivate=y=>{const b=y.component;_r(b.m),_r(b.a),u(y,p,null,1,a),ve(()=>{b.da&&Ts(b.da);const P=y.props&&y.props.onVnodeUnmounted;P&&Me(P,b.parent,y),b.isDeactivated=!0},a)};function g(y){zr(y),c(y,s,a,!0)}function k(y){n.forEach((b,P)=>{const D=mn(b.type);D&&(!y||!y(D))&&E(P)})}function E(y){const b=n.get(y);!o||!ns(b,o)?g(b):o&&zr(o),n.delete(y),i.delete(y)}hs(()=>[t.include,t.exclude],([y,b])=>{y&&k(P=>Ps(y,P)),b&&k(P=>!Ps(b,P))},{flush:"post",deep:!0});let x=null;const I=()=>{x!=null&&(gn(s.subTree.type)?ve(()=>{n.set(x,rr(s.subTree))},s.subTree.suspense):n.set(x,rr(s.subTree)))};return Pr(I),fa(I),Or(()=>{n.forEach(y=>{const{subTree:b,suspense:P}=s,D=rr(b);if(y.type===D.type&&y.key===D.key){zr(D);const N=D.component.da;N&&ve(N,P);return}g(y)})}),()=>{if(x=null,!e.default)return null;const y=e.default(),b=y[0];if(y.length>1)return o=null,y;if(!Hs(b)||!(b.shapeFlag&4)&&!(b.shapeFlag&128))return o=null,b;let P=rr(b);const D=P.type,N=mn(cs(P)?P.type.__asyncResolved||{}:D),{include:V,exclude:z,max:K}=t;if(V&&(!N||!Ps(V,N))||z&&N&&Ps(z,N))return o=P,b;const oe=P.key==null?D:P.key,pe=n.get(oe);return P.el&&(P=Vt(P),b.shapeFlag&128&&(b.ssContent=P)),x=oe,pe?(P.el=pe.el,P.component=pe.component,P.transition&&Vn(P,P.transition),P.shapeFlag|=512,i.delete(oe),i.add(oe)):(i.add(oe),K&&i.size>parseInt(K,10)&&E(i.values().next().value)),P.shapeFlag|=256,o=P,gn(b.type)?b:P}}},vg=kc;function Ps(t,e){return F(t)?t.some(s=>Ps(s,e)):de(t)?t.split(",").includes(e):Rl(t)?t.test(e):!1}function Ec(t,e){ha(t,"a",e)}function Ac(t,e){ha(t,"da",e)}function ha(t,e,s=ye){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Ar(e,r,s),s){let n=s.parent;for(;n&&n.parent;)ua(n.parent.vnode)&&Pc(r,e,s,n),n=n.parent}}function Pc(t,e,s,r){const n=Ar(e,t,r,!0);da(()=>{$n(r[e],n)},s)}function zr(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function rr(t){return t.shapeFlag&128?t.ssContent:t}function Ar(t,e,s=ye,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Ot();const a=Ws(s),l=Je(e,s,t,o);return a(),xt(),l});return r?n.unshift(i):n.push(i),i}}const ut=t=>(e,s=ye)=>{(!Tr||t==="sp")&&Ar(t,(...r)=>e(...r),s)},Oc=ut("bm"),Pr=ut("m"),xc=ut("bu"),fa=ut("u"),Or=ut("bum"),da=ut("um"),Cc=ut("sp"),Tc=ut("rtg"),Rc=ut("rtc");function $c(t,e=ye){Ar("ec",t,e)}const pa="components";function yg(t,e){return ma(pa,t,!0,e)||t}const ga=Symbol.for("v-ndc");function _a(t){return de(t)?ma(pa,t,!1)||t:t||ga}function ma(t,e,s=!0,r=!1){const n=we||ye;if(n){const i=n.type;{const a=mn(i,!1);if(a&&(a===e||a===Qe(e)||a===wr(Qe(e))))return i}const o=bi(n[t]||i[t],e)||bi(n.appContext[t],e);return!o&&r?i:o}}function bi(t,e){return t&&(t[e]||t[Qe(e)]||t[wr(Qe(e))])}function jc(t,e,s,r){let n;const i=s;if(F(t)||de(t)){n=new Array(t.length);for(let o=0,a=t.length;o<a;o++)n[o]=e(t[o],o,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let o=0;o<t;o++)n[o]=e(o+1,o,void 0,i)}else if(ue(t))if(t[Symbol.iterator])n=Array.from(t,(o,a)=>e(o,a,void 0,i));else{const o=Object.keys(t);n=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];n[a]=e(t[u],u,a,i)}}else n=[];return n}function Ic(t,e){for(let s=0;s<e.length;s++){const r=e[s];if(F(r))for(let n=0;n<r.length;n++)t[r[n].name]=r[n].fn;else r&&(t[r.name]=r.key?(...n)=>{const i=r.fn(...n);return i&&(i.key=r.key),i}:r.fn)}return t}function rt(t,e,s={},r,n){if(we.isCE||we.parent&&cs(we.parent)&&we.parent.isCE)return e!=="default"&&(s.name=e),Z("slot",s,r&&r());let i=t[e];i&&i._c&&(i._d=!1),le();const o=i&&va(i(s)),a=nt(Ne,{key:(s.key||o&&o.key||`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function va(t){return t.some(e=>Hs(e)?!(e.type===At||e.type===Ne&&!va(e.children)):!0)?t:null}const un=t=>t?Na(t)?Jn(t):un(t.parent):null,Rs=Ee(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>un(t.parent),$root:t=>un(t.root),$emit:t=>t.emit,$options:t=>Kn(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,qn(t.update)}),$nextTick:t=>t.n||(t.n=zn.bind(t.proxy)),$watch:t=>iu.bind(t)}),qr=(t,e)=>t!==fe&&!t.__isScriptSetup&&Q(t,e),Lc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(qr(r,e))return o[e]=1,r[e];if(n!==fe&&Q(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&Q(u,e))return o[e]=3,i[e];if(s!==fe&&Q(s,e))return o[e]=4,s[e];hn&&(o[e]=0)}}const c=Rs[e];let h,p;if(c)return e==="$attrs"&&Oe(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==fe&&Q(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,Q(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return qr(n,e)?(n[e]=s,!0):r!==fe&&Q(r,e)?(r[e]=s,!0):Q(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==fe&&Q(t,o)||qr(e,o)||(a=i[0])&&Q(a,o)||Q(r,o)||Q(Rs,o)||Q(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Q(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function wg(){return Dc().slots}function Dc(){const t=Ma();return t.setupContext||(t.setupContext=Ba(t))}function Si(t){return F(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let hn=!0;function Uc(t){const e=Kn(t),s=t.proxy,r=t.ctx;hn=!1,e.beforeCreate&&ki(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:g,updated:k,activated:E,deactivated:x,beforeDestroy:I,beforeUnmount:y,destroyed:b,unmounted:P,render:D,renderTracked:N,renderTriggered:V,errorCaptured:z,serverPrefetch:K,expose:oe,inheritAttrs:pe,components:xe,directives:Ie,filters:Ct}=e;if(u&&Mc(u,r,null),o)for(const ie in o){const ee=o[ie];q(ee)&&(r[ie]=ee.bind(s))}if(n){const ie=n.call(s,s);ue(ie)&&(t.data=ms(ie))}if(hn=!0,i)for(const ie in i){const ee=i[ie],ot=q(ee)?ee.bind(s,s):q(ee.get)?ee.get.bind(s,s):He,ht=!q(ee)&&q(ee.set)?ee.set.bind(s):He,Ze=ge({get:ot,set:ht});Object.defineProperty(r,ie,{enumerable:!0,configurable:!0,get:()=>Ze.value,set:Pe=>Ze.value=Pe})}if(a)for(const ie in a)ya(a[ie],r,s,ie);if(l){const ie=q(l)?l.call(s):l;Reflect.ownKeys(ie).forEach(ee=>{cr(ee,ie[ee])})}c&&ki(c,t,"c");function Y(ie,ee){F(ee)?ee.forEach(ot=>ie(ot.bind(s))):ee&&ie(ee.bind(s))}if(Y(Oc,h),Y(Pr,p),Y(xc,g),Y(fa,k),Y(Ec,E),Y(Ac,x),Y($c,z),Y(Rc,N),Y(Tc,V),Y(Or,y),Y(da,P),Y(Cc,K),F(oe))if(oe.length){const ie=t.exposed||(t.exposed={});oe.forEach(ee=>{Object.defineProperty(ie,ee,{get:()=>s[ee],set:ot=>s[ee]=ot})})}else t.exposed||(t.exposed={});D&&t.render===He&&(t.render=D),pe!=null&&(t.inheritAttrs=pe),xe&&(t.components=xe),Ie&&(t.directives=Ie)}function Mc(t,e,s=He){F(t)&&(t=fn(t));for(const r in t){const n=t[r];let i;ue(n)?"default"in n?i=ze(n.from||r,n.default,!0):i=ze(n.from||r):i=ze(n),_e(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function ki(t,e,s){Je(F(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function ya(t,e,s,r){const n=r.includes(".")?ja(s,r):()=>s[r];if(de(t)){const i=e[t];q(i)&&hs(n,i)}else if(q(t))hs(n,t.bind(s));else if(ue(t))if(F(t))t.forEach(i=>ya(i,e,s,r));else{const i=q(t.handler)?t.handler.bind(s):e[t.handler];q(i)&&hs(n,i,t)}}function Kn(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>gr(l,u,o,!0)),gr(l,e,o)),ue(e)&&i.set(e,l),l}function gr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&gr(t,i,s,!0),n&&n.forEach(o=>gr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=Nc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Nc={data:Ei,props:Ai,emits:Ai,methods:Os,computed:Os,beforeCreate:Ae,created:Ae,beforeMount:Ae,mounted:Ae,beforeUpdate:Ae,updated:Ae,beforeDestroy:Ae,beforeUnmount:Ae,destroyed:Ae,unmounted:Ae,activated:Ae,deactivated:Ae,errorCaptured:Ae,serverPrefetch:Ae,components:Os,directives:Os,watch:Bc,provide:Ei,inject:Fc};function Ei(t,e){return e?t?function(){return Ee(q(t)?t.call(this,this):t,q(e)?e.call(this,this):e)}:e:t}function Fc(t,e){return Os(fn(t),fn(e))}function fn(t){if(F(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Ae(t,e){return t?[...new Set([].concat(t,e))]:e}function Os(t,e){return t?Ee(Object.create(null),t,e):e}function Ai(t,e){return t?F(t)&&F(e)?[...new Set([...t,...e])]:Ee(Object.create(null),Si(t),Si(e??{})):e}function Bc(t,e){if(!t)return e;if(!e)return t;const s=Ee(Object.create(null),t);for(const r in e)s[r]=Ae(t[r],e[r]);return s}function wa(){return{app:null,config:{isNativeTag:Cl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Hc=0;function zc(t,e){return function(r,n=null){q(r)||(r=Ee({},r)),n!=null&&!ue(n)&&(n=null);const i=wa(),o=new WeakSet;let a=!1;const l=i.app={_uid:Hc++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Eu,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&q(u.install)?(o.add(u),u.install(l,...c)):q(u)&&(o.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,h){if(!a){const p=Z(r,n);return p.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),c&&e?e(p,u):t(p,u,h),a=!0,l._container=u,u.__vue_app__=l,Jn(p.component)}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l},runWithContext(u){const c=us;us=l;try{return u()}finally{us=c}}};return l}}let us=null;function cr(t,e){if(ye){let s=ye.provides;const r=ye.parent&&ye.parent.provides;r===s&&(s=ye.provides=Object.create(r)),s[t]=e}}function ze(t,e,s=!1){const r=ye||we;if(r||us){const n=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:us._context.provides;if(n&&t in n)return n[t];if(arguments.length>1)return s&&q(e)?e.call(r&&r.proxy):e}}function qc(){return!!(ye||we||us)}const ba={},Sa=()=>Object.create(ba),ka=t=>Object.getPrototypeOf(t)===ba;function Vc(t,e,s,r=!1){const n={},i=Sa();t.propsDefaults=Object.create(null),Ea(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:Yo(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Kc(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=X(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if(xr(t.emitsOptions,p))continue;const g=e[p];if(l)if(Q(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const k=Qe(p);n[k]=dn(l,a,k,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{Ea(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!Q(e,h)&&((c=Kt(h))===h||!Q(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=dn(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!Q(e,h))&&(delete i[h],u=!0)}u&&ct(t.attrs,"set","")}function Ea(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Cs(l))continue;const u=e[l];let c;n&&Q(n,c=Qe(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:xr(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=X(s),u=a||fe;for(let c=0;c<i.length;c++){const h=i[c];s[h]=dn(n,l,h,u[h],t,!Q(u,h))}}return o}function dn(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=Q(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&q(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Ws(n);r=u[s]=l.call(null,e),c()}}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Kt(s))&&(r=!0))}return r}const Gc=new WeakMap;function Aa(t,e,s=!1){const r=s?Gc:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!q(t)){const c=h=>{l=!0;const[p,g]=Aa(h,e,!0);Ee(o,p),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return ue(t)&&r.set(t,os),os;if(F(i))for(let c=0;c<i.length;c++){const h=Qe(i[c]);Pi(h)&&(o[h]=fe)}else if(i)for(const c in i){const h=Qe(c);if(Pi(h)){const p=i[c],g=o[h]=F(p)||q(p)?{type:p}:Ee({},p);if(g){const k=Ci(Boolean,g.type),E=Ci(String,g.type);g[0]=k>-1,g[1]=E<0||k<E,(k>-1||Q(g,"default"))&&a.push(h)}}}const u=[o,a];return ue(t)&&r.set(t,u),u}function Pi(t){return t[0]!=="$"&&!Cs(t)}function Oi(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function xi(t,e){return Oi(t)===Oi(e)}function Ci(t,e){return F(e)?e.findIndex(s=>xi(s,t)):q(e)&&xi(e,t)?0:-1}const Pa=t=>t[0]==="_"||t==="$stable",Gn=t=>F(t)?t.map(tt):[tt(t)],Wc=(t,e,s)=>{if(e._n)return e;const r=Ge((...n)=>Gn(e(...n)),s);return r._c=!1,r},Oa=(t,e,s)=>{const r=t._ctx;for(const n in t){if(Pa(n))continue;const i=t[n];if(q(i))e[n]=Wc(n,i,r);else if(i!=null){const o=Gn(i);e[n]=()=>o}}},xa=(t,e)=>{const s=Gn(e);t.slots.default=()=>s},Ca=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},Jc=(t,e,s)=>{const r=t.slots=Sa();if(t.vnode.shapeFlag&32){const n=e._;n?(Ca(r,e,s),s&&jo(r,"_",n,!0)):Oa(e,r)}else e&&xa(t,e)},Qc=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=fe;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Ca(n,e,s):(i=!e.$stable,Oa(e,n)),o=e}else e&&(xa(t,e),o={default:1});if(i)for(const a in n)!Pa(a)&&o[a]==null&&delete n[a]};function pn(t,e,s,r,n=!1){if(F(t)){t.forEach((p,g)=>pn(p,e&&(F(e)?e[g]:e),s,r,n));return}if(cs(r)&&!n)return;const i=r.shapeFlag&4?Jn(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===fe?a.refs={}:a.refs,h=a.setupState;if(u!=null&&u!==l&&(de(u)?(c[u]=null,Q(h,u)&&(h[u]=null)):_e(u)&&(u.value=null)),q(l))kt(l,a,12,[o,c]);else{const p=de(l),g=_e(l);if(p||g){const k=()=>{if(t.f){const E=p?Q(h,l)?h[l]:c[l]:l.value;n?F(E)&&$n(E,i):F(E)?E.includes(i)||E.push(i):p?(c[l]=[i],Q(h,l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else p?(c[l]=o,Q(h,l)&&(h[l]=o)):g&&(l.value=o,t.k&&(c[t.k]=o))};o?(k.id=-1,ve(k,s)):k()}}}const Xc=Symbol("_vte"),Yc=t=>t.__isTeleport,ve=fu;function Zc(t){return eu(t)}function eu(t,e){const s=Io();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:p,setScopeId:g=He,insertStaticContent:k}=t,E=(f,d,_,w=null,m=null,A=null,T=void 0,O=null,C=!!d.dynamicChildren)=>{if(f===d)return;f&&!ns(f,d)&&(w=v(f),Pe(f,m,A,!0),f=null),d.patchFlag===-2&&(C=!1,d.dynamicChildren=null);const{type:S,ref:j,shapeFlag:M}=d;switch(S){case Cr:x(f,d,_,w);break;case At:I(f,d,_,w);break;case ur:f==null&&y(d,_,w,T);break;case Ne:xe(f,d,_,w,m,A,T,O,C);break;default:M&1?D(f,d,_,w,m,A,T,O,C):M&6?Ie(f,d,_,w,m,A,T,O,C):(M&64||M&128)&&S.process(f,d,_,w,m,A,T,O,C,L)}j!=null&&m&&pn(j,f&&f.ref,A,d||f,!d)},x=(f,d,_,w)=>{if(f==null)r(d.el=a(d.children),_,w);else{const m=d.el=f.el;d.children!==f.children&&u(m,d.children)}},I=(f,d,_,w)=>{f==null?r(d.el=l(d.children||""),_,w):d.el=f.el},y=(f,d,_,w)=>{[f.el,f.anchor]=k(f.children,d,_,w,f.el,f.anchor)},b=({el:f,anchor:d},_,w)=>{let m;for(;f&&f!==d;)m=p(f),r(f,_,w),f=m;r(d,_,w)},P=({el:f,anchor:d})=>{let _;for(;f&&f!==d;)_=p(f),n(f),f=_;n(d)},D=(f,d,_,w,m,A,T,O,C)=>{d.type==="svg"?T="svg":d.type==="math"&&(T="mathml"),f==null?N(d,_,w,m,A,T,O,C):K(f,d,m,A,T,O,C)},N=(f,d,_,w,m,A,T,O)=>{let C,S;const{props:j,shapeFlag:M,transition:U,dirs:H}=f;if(C=f.el=o(f.type,A,j&&j.is,j),M&8?c(C,f.children):M&16&&z(f.children,C,null,w,m,Vr(f,A),T,O),H&&Tt(f,null,w,"created"),V(C,f,f.scopeId,T,w),j){for(const ce in j)ce!=="value"&&!Cs(ce)&&i(C,ce,null,j[ce],A,w);"value"in j&&i(C,"value",null,j.value,A),(S=j.onVnodeBeforeMount)&&Me(S,w,f)}H&&Tt(f,null,w,"beforeMount");const G=tu(m,U);G&&U.beforeEnter(C),r(C,d,_),((S=j&&j.onVnodeMounted)||G||H)&&ve(()=>{S&&Me(S,w,f),G&&U.enter(C),H&&Tt(f,null,w,"mounted")},m)},V=(f,d,_,w,m)=>{if(_&&g(f,_),w)for(let A=0;A<w.length;A++)g(f,w[A]);if(m){let A=m.subTree;if(d===A){const T=m.vnode;V(f,T,T.scopeId,T.slotScopeIds,m.parent)}}},z=(f,d,_,w,m,A,T,O,C=0)=>{for(let S=C;S<f.length;S++){const j=f[S]=O?mt(f[S]):tt(f[S]);E(null,j,d,_,w,m,A,T,O)}},K=(f,d,_,w,m,A,T)=>{const O=d.el=f.el;let{patchFlag:C,dynamicChildren:S,dirs:j}=d;C|=f.patchFlag&16;const M=f.props||fe,U=d.props||fe;let H;if(_&&Rt(_,!1),(H=U.onVnodeBeforeUpdate)&&Me(H,_,d,f),j&&Tt(d,f,_,"beforeUpdate"),_&&Rt(_,!0),(M.innerHTML&&U.innerHTML==null||M.textContent&&U.textContent==null)&&c(O,""),S?oe(f.dynamicChildren,S,O,_,w,Vr(d,m),A):T||ee(f,d,O,null,_,w,Vr(d,m),A,!1),C>0){if(C&16)pe(O,M,U,_,m);else if(C&2&&M.class!==U.class&&i(O,"class",null,U.class,m),C&4&&i(O,"style",M.style,U.style,m),C&8){const G=d.dynamicProps;for(let ce=0;ce<G.length;ce++){const te=G[ce],me=M[te],Ve=U[te];(Ve!==me||te==="value")&&i(O,te,me,Ve,m,_)}}C&1&&f.children!==d.children&&c(O,d.children)}else!T&&S==null&&pe(O,M,U,_,m);((H=U.onVnodeUpdated)||j)&&ve(()=>{H&&Me(H,_,d,f),j&&Tt(d,f,_,"updated")},w)},oe=(f,d,_,w,m,A,T)=>{for(let O=0;O<d.length;O++){const C=f[O],S=d[O],j=C.el&&(C.type===Ne||!ns(C,S)||C.shapeFlag&70)?h(C.el):_;E(C,S,j,null,w,m,A,T,!0)}},pe=(f,d,_,w,m)=>{if(d!==_){if(d!==fe)for(const A in d)!Cs(A)&&!(A in _)&&i(f,A,d[A],null,m,w);for(const A in _){if(Cs(A))continue;const T=_[A],O=d[A];T!==O&&A!=="value"&&i(f,A,O,T,m,w)}"value"in _&&i(f,"value",d.value,_.value,m)}},xe=(f,d,_,w,m,A,T,O,C)=>{const S=d.el=f?f.el:a(""),j=d.anchor=f?f.anchor:a("");let{patchFlag:M,dynamicChildren:U,slotScopeIds:H}=d;H&&(O=O?O.concat(H):H),f==null?(r(S,_,w),r(j,_,w),z(d.children||[],_,j,m,A,T,O,C)):M>0&&M&64&&U&&f.dynamicChildren?(oe(f.dynamicChildren,U,_,m,A,T,O),(d.key!=null||m&&d===m.subTree)&&Ta(f,d,!0)):ee(f,d,_,j,m,A,T,O,C)},Ie=(f,d,_,w,m,A,T,O,C)=>{d.slotScopeIds=O,f==null?d.shapeFlag&512?m.ctx.activate(d,_,w,T,C):Ct(d,_,w,m,A,T,C):Le(f,d,C)},Ct=(f,d,_,w,m,A,T)=>{const O=f.component=yu(f,w,m);if(ua(f)&&(O.ctx.renderer=L),wu(O,!1,T),O.asyncDep){if(m&&m.registerDep(O,Y,T),!f.el){const C=O.subTree=Z(At);I(null,C,d,_)}}else Y(O,f,d,_,m,A,T)},Le=(f,d,_)=>{const w=d.component=f.component;if(uu(f,d,_))if(w.asyncDep&&!w.asyncResolved){ie(w,d,_);return}else w.next=d,wc(w.update),w.effect.dirty=!0,w.update();else d.el=f.el,w.vnode=d},Y=(f,d,_,w,m,A,T)=>{const O=()=>{if(f.isMounted){let{next:j,bu:M,u:U,parent:H,vnode:G}=f;{const Qt=Ra(f);if(Qt){j&&(j.el=G.el,ie(f,j,T)),Qt.asyncDep.then(()=>{f.isUnmounted||O()});return}}let ce=j,te;Rt(f,!1),j?(j.el=G.el,ie(f,j,T)):j=G,M&&Ts(M),(te=j.props&&j.props.onVnodeBeforeUpdate)&&Me(te,H,j,G),Rt(f,!0);const me=Kr(f),Ve=f.subTree;f.subTree=me,E(Ve,me,h(Ve.el),v(Ve),f,m,A),j.el=me.el,ce===null&&hu(f,me.el),U&&ve(U,m),(te=j.props&&j.props.onVnodeUpdated)&&ve(()=>Me(te,H,j,G),m)}else{let j;const{el:M,props:U}=d,{bm:H,m:G,parent:ce}=f,te=cs(d);if(Rt(f,!1),H&&Ts(H),!te&&(j=U&&U.onVnodeBeforeMount)&&Me(j,ce,d),Rt(f,!0),M&&he){const me=()=>{f.subTree=Kr(f),he(M,f.subTree,f,m,null)};te?d.type.__asyncLoader().then(()=>!f.isUnmounted&&me()):me()}else{const me=f.subTree=Kr(f);E(null,me,_,w,f,m,A),d.el=me.el}if(G&&ve(G,m),!te&&(j=U&&U.onVnodeMounted)){const me=d;ve(()=>Me(j,ce,me),m)}(d.shapeFlag&256||ce&&cs(ce.vnode)&&ce.vnode.shapeFlag&256)&&f.a&&ve(f.a,m),f.isMounted=!0,d=_=w=null}},C=f.effect=new In(O,He,()=>qn(S),f.scope),S=f.update=()=>{C.dirty&&C.run()};S.i=f,S.id=f.uid,Rt(f,!0),S()},ie=(f,d,_)=>{d.component=f;const w=f.vnode.props;f.vnode=d,f.next=null,Kc(f,d.props,w,_),Qc(f,d.children,_),Ot(),wi(f),xt()},ee=(f,d,_,w,m,A,T,O,C=!1)=>{const S=f&&f.children,j=f?f.shapeFlag:0,M=d.children,{patchFlag:U,shapeFlag:H}=d;if(U>0){if(U&128){ht(S,M,_,w,m,A,T,O,C);return}else if(U&256){ot(S,M,_,w,m,A,T,O,C);return}}H&8?(j&16&&De(S,m,A),M!==S&&c(_,M)):j&16?H&16?ht(S,M,_,w,m,A,T,O,C):De(S,m,A,!0):(j&8&&c(_,""),H&16&&z(M,_,w,m,A,T,O,C))},ot=(f,d,_,w,m,A,T,O,C)=>{f=f||os,d=d||os;const S=f.length,j=d.length,M=Math.min(S,j);let U;for(U=0;U<M;U++){const H=d[U]=C?mt(d[U]):tt(d[U]);E(f[U],H,_,null,m,A,T,O,C)}S>j?De(f,m,A,!0,!1,M):z(d,_,w,m,A,T,O,C,M)},ht=(f,d,_,w,m,A,T,O,C)=>{let S=0;const j=d.length;let M=f.length-1,U=j-1;for(;S<=M&&S<=U;){const H=f[S],G=d[S]=C?mt(d[S]):tt(d[S]);if(ns(H,G))E(H,G,_,null,m,A,T,O,C);else break;S++}for(;S<=M&&S<=U;){const H=f[M],G=d[U]=C?mt(d[U]):tt(d[U]);if(ns(H,G))E(H,G,_,null,m,A,T,O,C);else break;M--,U--}if(S>M){if(S<=U){const H=U+1,G=H<j?d[H].el:w;for(;S<=U;)E(null,d[S]=C?mt(d[S]):tt(d[S]),_,G,m,A,T,O,C),S++}}else if(S>U)for(;S<=M;)Pe(f[S],m,A,!0),S++;else{const H=S,G=S,ce=new Map;for(S=G;S<=U;S++){const Ce=d[S]=C?mt(d[S]):tt(d[S]);Ce.key!=null&&ce.set(Ce.key,S)}let te,me=0;const Ve=U-G+1;let Qt=!1,ci=0;const ws=new Array(Ve);for(S=0;S<Ve;S++)ws[S]=0;for(S=H;S<=M;S++){const Ce=f[S];if(me>=Ve){Pe(Ce,m,A,!0);continue}let et;if(Ce.key!=null)et=ce.get(Ce.key);else for(te=G;te<=U;te++)if(ws[te-G]===0&&ns(Ce,d[te])){et=te;break}et===void 0?Pe(Ce,m,A,!0):(ws[et-G]=S+1,et>=ci?ci=et:Qt=!0,E(Ce,d[et],_,null,m,A,T,O,C),me++)}const ui=Qt?su(ws):os;for(te=ui.length-1,S=Ve-1;S>=0;S--){const Ce=G+S,et=d[Ce],hi=Ce+1<j?d[Ce+1].el:w;ws[S]===0?E(null,et,_,hi,m,A,T,O,C):Qt&&(te<0||S!==ui[te]?Ze(et,_,hi,2):te--)}}},Ze=(f,d,_,w,m=null)=>{const{el:A,type:T,transition:O,children:C,shapeFlag:S}=f;if(S&6){Ze(f.component.subTree,d,_,w);return}if(S&128){f.suspense.move(d,_,w);return}if(S&64){T.move(f,d,_,L);return}if(T===Ne){r(A,d,_);for(let M=0;M<C.length;M++)Ze(C[M],d,_,w);r(f.anchor,d,_);return}if(T===ur){b(f,d,_);return}if(w!==2&&S&1&&O)if(w===0)O.beforeEnter(A),r(A,d,_),ve(()=>O.enter(A),m);else{const{leave:M,delayLeave:U,afterLeave:H}=O,G=()=>r(A,d,_),ce=()=>{M(A,()=>{G(),H&&H()})};U?U(A,G,ce):ce()}else r(A,d,_)},Pe=(f,d,_,w=!1,m=!1)=>{const{type:A,props:T,ref:O,children:C,dynamicChildren:S,shapeFlag:j,patchFlag:M,dirs:U,cacheIndex:H}=f;if(M===-2&&(m=!1),O!=null&&pn(O,null,_,f,!0),H!=null&&(d.renderCache[H]=void 0),j&256){d.ctx.deactivate(f);return}const G=j&1&&U,ce=!cs(f);let te;if(ce&&(te=T&&T.onVnodeBeforeUnmount)&&Me(te,d,f),j&6)Xs(f.component,_,w);else{if(j&128){f.suspense.unmount(_,w);return}G&&Tt(f,null,d,"beforeUnmount"),j&64?f.type.remove(f,d,_,L,w):S&&!S.hasOnce&&(A!==Ne||M>0&&M&64)?De(S,d,_,!1,!0):(A===Ne&&M&384||!m&&j&16)&&De(C,d,_),w&&Wt(f)}(ce&&(te=T&&T.onVnodeUnmounted)||G)&&ve(()=>{te&&Me(te,d,f),G&&Tt(f,null,d,"unmounted")},_)},Wt=f=>{const{type:d,el:_,anchor:w,transition:m}=f;if(d===Ne){Jt(_,w);return}if(d===ur){P(f);return}const A=()=>{n(_),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(f.shapeFlag&1&&m&&!m.persisted){const{leave:T,delayLeave:O}=m,C=()=>T(_,A);O?O(f.el,A,C):C()}else A()},Jt=(f,d)=>{let _;for(;f!==d;)_=p(f),n(f),f=_;n(d)},Xs=(f,d,_)=>{const{bum:w,scope:m,update:A,subTree:T,um:O,m:C,a:S}=f;_r(C),_r(S),w&&Ts(w),m.stop(),A&&(A.active=!1,Pe(T,f,d,_)),O&&ve(O,d),ve(()=>{f.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},De=(f,d,_,w=!1,m=!1,A=0)=>{for(let T=A;T<f.length;T++)Pe(f[T],d,_,w,m)},v=f=>{if(f.shapeFlag&6)return v(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const d=p(f.anchor||f.el),_=d&&d[Xc];return _?p(_):d};let $=!1;const R=(f,d,_)=>{f==null?d._vnode&&Pe(d._vnode,null,null,!0):E(d._vnode||null,f,d,null,null,null,_),$||($=!0,wi(),aa(),$=!1),d._vnode=f},L={p:E,um:Pe,m:Ze,r:Wt,mt:Ct,mc:z,pc:ee,pbc:oe,n:v,o:t};let re,he;return{render:R,hydrate:re,createApp:zc(R,re)}}function Vr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Rt({effect:t,update:e},s){t.allowRecurse=e.allowRecurse=s}function tu(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ta(t,e,s=!1){const r=t.children,n=e.children;if(F(r)&&F(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=mt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Ta(o,a)),a.type===Cr&&(a.el=o.el)}}function su(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Ra(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ra(e)}function _r(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const ru=Symbol.for("v-scx"),nu=()=>ze(ru),nr={};function hs(t,e,s){return $a(t,e,s)}function $a(t,e,{immediate:s,deep:r,flush:n,once:i,onTrack:o,onTrigger:a}=fe){if(e&&i){const N=e;e=(...V)=>{N(...V),D()}}const l=ye,u=N=>r===!0?N:Ut(N,r===!1?1:void 0);let c,h=!1,p=!1;if(_e(t)?(c=()=>t.value,h=ds(t)):Bt(t)?(c=()=>u(t),h=!0):F(t)?(p=!0,h=t.some(N=>Bt(N)||ds(N)),c=()=>t.map(N=>{if(_e(N))return N.value;if(Bt(N))return u(N);if(q(N))return kt(N,l,2)})):q(t)?e?c=()=>kt(t,l,2):c=()=>(g&&g(),Je(t,l,3,[k])):c=He,e&&r){const N=c;c=()=>Ut(N())}let g,k=N=>{g=b.onStop=()=>{kt(N,l,4),g=b.onStop=void 0}},E;if(Tr)if(k=He,e?s&&Je(e,l,3,[c(),p?[]:void 0,k]):c(),n==="sync"){const N=nu();E=N.__watcherHandles||(N.__watcherHandles=[])}else return He;let x=p?new Array(t.length).fill(nr):nr;const I=()=>{if(!(!b.active||!b.dirty))if(e){const N=b.run();(r||h||(p?N.some((V,z)=>Et(V,x[z])):Et(N,x)))&&(g&&g(),Je(e,l,3,[N,x===nr?void 0:p&&x[0]===nr?[]:x,k]),x=N)}else b.run()};I.allowRecurse=!!e;let y;n==="sync"?y=I:n==="post"?y=()=>ve(I,l&&l.suspense):(I.pre=!0,l&&(I.id=l.uid),y=()=>qn(I));const b=new In(c,He,y),P=Fo(),D=()=>{b.stop(),P&&$n(P.effects,b)};return e?s?I():x=b.run():n==="post"?ve(b.run.bind(b),l&&l.suspense):b.run(),E&&E.push(D),D}function iu(t,e,s){const r=this.proxy,n=de(t)?t.includes(".")?ja(r,t):()=>r[t]:t.bind(r,r);let i;q(e)?i=e:(i=e.handler,s=e);const o=Ws(this),a=$a(n,i.bind(r),s);return o(),a}function ja(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}function Ut(t,e=1/0,s){if(e<=0||!ue(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,_e(t))Ut(t.value,e,s);else if(F(t))for(let r=0;r<t.length;r++)Ut(t[r],e,s);else if(Co(t)||as(t))t.forEach(r=>{Ut(r,e,s)});else if($o(t)){for(const r in t)Ut(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ut(t[r],e,s)}return t}const ou=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Qe(e)}Modifiers`]||t[`${Kt(e)}Modifiers`];function au(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||fe;let n=s;const i=e.startsWith("update:"),o=i&&ou(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>de(c)?c.trim():c)),o.number&&(n=s.map(Ll)));let a,l=r[a=Br(e)]||r[a=Br(Qe(e))];!l&&i&&(l=r[a=Br(Kt(e))]),l&&Je(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Je(u,t,6,n)}}function Ia(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!q(t)){const l=u=>{const c=Ia(u,e,!0);c&&(a=!0,Ee(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ue(t)&&r.set(t,null),null):(F(i)?i.forEach(l=>o[l]=null):Ee(o,i),ue(t)&&r.set(t,o),o)}function xr(t,e){return!t||!vr(e)?!1:(e=e.slice(2).replace(/Once$/,""),Q(t,e[0].toLowerCase()+e.slice(1))||Q(t,Kt(e))||Q(t,e))}function Kr(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:p,setupState:g,ctx:k,inheritAttrs:E}=t,x=pr(t);let I,y;try{if(s.shapeFlag&4){const P=n||r,D=P;I=tt(u.call(D,P,c,h,g,p,k)),y=a}else{const P=e;I=tt(P.length>1?P(h,{attrs:a,slots:o,emit:l}):P(h,null)),y=e.props?a:lu(a)}}catch(P){$s.length=0,Er(P,t,1),I=Z(At)}let b=I;if(y&&E!==!1){const P=Object.keys(y),{shapeFlag:D}=b;P.length&&D&7&&(i&&P.some(Rn)&&(y=cu(y,i)),b=Vt(b,y,!1,!0))}return s.dirs&&(b=Vt(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(s.dirs):s.dirs),s.transition&&(b.transition=s.transition),I=b,pr(x),I}const lu=t=>{let e;for(const s in t)(s==="class"||s==="style"||vr(s))&&((e||(e={}))[s]=t[s]);return e},cu=(t,e)=>{const s={};for(const r in t)(!Rn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function uu(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Ti(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(o[p]!==r[p]&&!xr(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ti(r,o,u):!0:!!o;return!1}function Ti(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!xr(s,i))return!0}return!1}function hu({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const gn=t=>t.__isSuspense;function fu(t,e){e&&e.pendingBranch?F(t)?e.effects.push(...t):e.effects.push(t):bc(t)}const Ne=Symbol.for("v-fgt"),Cr=Symbol.for("v-txt"),At=Symbol.for("v-cmt"),ur=Symbol.for("v-stc"),$s=[];let $e=null;function le(t=!1){$s.push($e=t?null:[])}function du(){$s.pop(),$e=$s[$s.length-1]||null}let Bs=1;function Ri(t){Bs+=t,t<0&&$e&&($e.hasOnce=!0)}function La(t){return t.dynamicChildren=Bs>0?$e||os:null,du(),Bs>0&&$e&&$e.push(t),t}function ke(t,e,s,r,n,i){return La(B(t,e,s,r,n,i,!0))}function nt(t,e,s,r,n){return La(Z(t,e,s,r,n,!0))}function Hs(t){return t?t.__v_isVNode===!0:!1}function ns(t,e){return t.type===e.type&&t.key===e.key}const Da=({key:t})=>t??null,hr=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?de(t)||_e(t)||q(t)?{i:we,r:t,k:e,f:!!s}:t:null);function B(t,e=null,s=null,r=0,n=null,i=t===Ne?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Da(e),ref:e&&hr(e),scopeId:ca,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:we};return a?(Wn(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=de(s)?8:16),Bs>0&&!o&&$e&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&$e.push(l),l}const Z=pu;function pu(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===ga)&&(t=At),Hs(t)){const a=Vt(t,e,!0);return s&&Wn(a,s),Bs>0&&!i&&$e&&(a.shapeFlag&6?$e[$e.indexOf(t)]=a:$e.push(a)),a.patchFlag=-2,a}if(ku(t)&&(t=t.__vccOpts),e){e=Ua(e);let{class:a,style:l}=e;a&&!de(a)&&(e.class=Xe(a)),ue(l)&&(ea(l)&&!F(l)&&(l=Ee({},l)),e.style=br(l))}const o=de(t)?1:gn(t)?128:Yc(t)?64:ue(t)?4:q(t)?2:0;return B(t,e,s,r,n,o,i,!0)}function Ua(t){return t?ea(t)||ka(t)?Ee({},t):t:null}function Vt(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?it(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Da(u),ref:e&&e.ref?s&&i?F(i)?i.concat(hr(e)):[i,hr(e)]:hr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ne?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Vt(t.ssContent),ssFallback:t.ssFallback&&Vt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Vn(c,l.clone(c)),c}function gu(t=" ",e=0){return Z(Cr,null,t,e)}function _u(t,e){const s=Z(ur,null,t);return s.staticCount=e,s}function bt(t="",e=!1){return e?(le(),nt(At,null,t)):Z(At,null,t)}function tt(t){return t==null||typeof t=="boolean"?Z(At):F(t)?Z(Ne,null,t.slice()):typeof t=="object"?mt(t):Z(Cr,null,String(t))}function mt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Vt(t)}function Wn(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(F(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),Wn(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!ka(e)?e._ctx=we:n===3&&we&&(we.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else q(e)?(e={default:e,_ctx:we},s=32):(e=String(e),r&64?(s=16,e=[gu(e)]):s=8);t.children=e,t.shapeFlag|=s}function it(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=Xe([e.class,r.class]));else if(n==="style")e.style=br([e.style,r.style]);else if(vr(n)){const i=e[n],o=r[n];o&&i!==o&&!(F(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Me(t,e,s,r=null){Je(t,e,7,[s,r])}const mu=wa();let vu=0;function yu(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||mu,i={uid:vu++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new Mo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Aa(r,n),emitsOptions:Ia(r,n),emit:null,emitted:null,propsDefaults:fe,inheritAttrs:r.inheritAttrs,ctx:fe,data:fe,props:fe,attrs:fe,slots:fe,refs:fe,setupState:fe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=au.bind(null,i),t.ce&&t.ce(i),i}let ye=null;const Ma=()=>ye||we;let mr,_n;{const t=Io(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};mr=e("__VUE_INSTANCE_SETTERS__",s=>ye=s),_n=e("__VUE_SSR_SETTERS__",s=>Tr=s)}const Ws=t=>{const e=ye;return mr(t),t.scope.on(),()=>{t.scope.off(),mr(e)}},$i=()=>{ye&&ye.scope.off(),mr(null)};function Na(t){return t.vnode.shapeFlag&4}let Tr=!1;function wu(t,e=!1,s=!1){e&&_n(e);const{props:r,children:n}=t.vnode,i=Na(t);Vc(t,r,i,e),Jc(t,n,s);const o=i?bu(t,e):void 0;return e&&_n(!1),o}function bu(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Lc);const{setup:r}=s;if(r){const n=t.setupContext=r.length>1?Ba(t):null,i=Ws(t);Ot();const o=kt(r,t,0,[t.props,n]);if(xt(),i(),To(o)){if(o.then($i,$i),e)return o.then(a=>{ji(t,a,e)}).catch(a=>{Er(a,t,0)});t.asyncDep=o}else ji(t,o,e)}else Fa(t,e)}function ji(t,e,s){q(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ue(e)&&(t.setupState=na(e)),Fa(t,s)}let Ii;function Fa(t,e,s){const r=t.type;if(!t.render){if(!e&&Ii&&!r.render){const n=r.template||Kn(t).template;if(n){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Ee(Ee({isCustomElement:i,delimiters:a},o),l);r.render=Ii(n,u)}}t.render=r.render||He}{const n=Ws(t);Ot();try{Uc(t)}finally{xt(),n()}}}const Su={get(t,e){return Oe(t,"get",""),t[e]}};function Ba(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Su),slots:t.slots,emit:t.emit,expose:e}}function Jn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(na(Fn(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Rs)return Rs[s](t)},has(e,s){return s in e||s in Rs}})):t.proxy}function mn(t,e=!0){return q(t)?t.displayName||t.name:t.name||e&&t.__name}function ku(t){return q(t)&&"__vccOpts"in t}const ge=(t,e)=>hc(t,e,Tr);function Ha(t,e,s){const r=arguments.length;return r===2?ue(e)&&!F(e)?Hs(e)?Z(t,null,[e]):Z(t,e):Z(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Hs(s)&&(s=[s]),Z(t,e,s))}const Eu="3.4.34";/**
* @vue/runtime-dom v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Au="http://www.w3.org/2000/svg",Pu="http://www.w3.org/1998/Math/MathML",lt=typeof document<"u"?document:null,Li=lt&&lt.createElement("template"),Ou={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?lt.createElementNS(Au,t):e==="mathml"?lt.createElementNS(Pu,t):s?lt.createElement(t,{is:s}):lt.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>lt.createTextNode(t),createComment:t=>lt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>lt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Li.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=Li.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},xu=Symbol("_vtc");function Cu(t,e,s){const r=t[xu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Di=Symbol("_vod"),Tu=Symbol("_vsh"),Ru=Symbol(""),$u=/(^|;)\s*display\s*:/;function ju(t,e,s){const r=t.style,n=de(s);let i=!1;if(s&&!n){if(e)if(de(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&fr(r,a,"")}else for(const o in e)s[o]==null&&fr(r,o,"");for(const o in s)o==="display"&&(i=!0),fr(r,o,s[o])}else if(n){if(e!==s){const o=r[Ru];o&&(s+=";"+o),r.cssText=s,i=$u.test(s)}}else e&&t.removeAttribute("style");Di in t&&(t[Di]=i?r.display:"",t[Tu]&&(r.display="none"))}const Ui=/\s*!important$/;function fr(t,e,s){if(F(s))s.forEach(r=>fr(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Iu(t,e);Ui.test(s)?t.setProperty(Kt(r),s.replace(Ui,""),"important"):t[r]=s}}const Mi=["Webkit","Moz","ms"],Gr={};function Iu(t,e){const s=Gr[e];if(s)return s;let r=Qe(e);if(r!=="filter"&&r in t)return Gr[e]=r;r=wr(r);for(let n=0;n<Mi.length;n++){const i=Mi[n]+r;if(i in t)return Gr[e]=i}return e}const Ni="http://www.w3.org/1999/xlink";function Fi(t,e,s,r,n,i=Hl(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Ni,e.slice(6,e.length)):t.setAttributeNS(Ni,e,s):s==null||i&&!Lo(s)?t.removeAttribute(e):t.setAttribute(e,i?"":Pt(s)?String(s):s)}function Lu(t,e,s,r){if(e==="innerHTML"||e==="textContent"){if(s==null)return;t[e]=s;return}const n=t.tagName;if(e==="value"&&n!=="PROGRESS"&&!n.includes("-")){const o=n==="OPTION"?t.getAttribute("value")||"":t.value,a=s==null?"":String(s);(o!==a||!("_value"in t))&&(t.value=a),s==null&&t.removeAttribute(e),t._value=s;return}let i=!1;if(s===""||s==null){const o=typeof t[e];o==="boolean"?s=Lo(s):s==null&&o==="string"?(s="",i=!0):o==="number"&&(s=0,i=!0)}try{t[e]=s}catch{}i&&t.removeAttribute(e)}function Du(t,e,s,r){t.addEventListener(e,s,r)}function Uu(t,e,s,r){t.removeEventListener(e,s,r)}const Bi=Symbol("_vei");function Mu(t,e,s,r,n=null){const i=t[Bi]||(t[Bi]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Nu(e);if(r){const u=i[e]=Hu(r,n);Du(t,a,u,l)}else o&&(Uu(t,a,o,l),i[e]=void 0)}}const Hi=/(?:Once|Passive|Capture)$/;function Nu(t){let e;if(Hi.test(t)){e={};let r;for(;r=t.match(Hi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Kt(t.slice(2)),e]}let Wr=0;const Fu=Promise.resolve(),Bu=()=>Wr||(Fu.then(()=>Wr=0),Wr=Date.now());function Hu(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Je(zu(r,s.value),e,5,[r])};return s.value=t,s.attached=Bu(),s}function zu(t,e){if(F(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const zi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,qu=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Cu(t,r,o):e==="style"?ju(t,s,r):vr(e)?Rn(e)||Mu(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Vu(t,e,r,o))?(Lu(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Fi(t,e,r,o,i,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Fi(t,e,r,o))};function Vu(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&zi(e)&&q(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return zi(e)&&de(s)?!1:e in t}const Ku=["ctrl","shift","alt","meta"],Gu={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Ku.some(s=>t[`${s}Key`]&&!e.includes(s))},bg=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=Gu[e[o]];if(a&&a(n,e))return}return t(n,...i)})},Wu=Ee({patchProp:qu},Ou);let qi;function Ju(){return qi||(qi=Zc(Wu))}const Qu=(...t)=>{const e=Ju().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Yu(r);if(!n)return;const i=e._component;!q(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.innerHTML="";const o=s(n,!1,Xu(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Xu(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Yu(t){return de(t)?document.querySelector(t):t}var Zu=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let za;const Rr=t=>za=t,qa=Symbol();function vn(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var js;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(js||(js={}));function eh(){const t=No(!0),e=t.run(()=>qt({}));let s=[],r=[];const n=Fn({install(i){Rr(n),n._a=i,i.provide(qa,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return!this._a&&!Zu?r.push(i):s.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const Va=()=>{};function Vi(t,e,s,r=Va){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!s&&Fo()&&ql(n),n}function Xt(t,...e){t.slice().forEach(s=>{s(...e)})}const th=t=>t();function yn(t,e){t instanceof Map&&e instanceof Map&&e.forEach((s,r)=>t.set(r,s)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];vn(n)&&vn(r)&&t.hasOwnProperty(s)&&!_e(r)&&!Bt(r)?t[s]=yn(n,r):t[s]=r}return t}const sh=Symbol();function rh(t){return!vn(t)||!t.hasOwnProperty(sh)}const{assign:pt}=Object;function nh(t){return!!(_e(t)&&t.effect)}function ih(t,e,s,r){const{state:n,actions:i,getters:o}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=n?n():{});const c=gc(s.state.value[t]);return pt(c,i,Object.keys(o||{}).reduce((h,p)=>(h[p]=Fn(ge(()=>{Rr(s);const g=s._s.get(t);return o[p].call(g,g)})),h),{}))}return l=Ka(t,u,e,s,r,!0),l}function Ka(t,e,s={},r,n,i){let o;const a=pt({actions:{}},s),l={deep:!0};let u,c,h=[],p=[],g;const k=r.state.value[t];!i&&!k&&(r.state.value[t]={}),qt({});let E;function x(z){let K;u=c=!1,typeof z=="function"?(z(r.state.value[t]),K={type:js.patchFunction,storeId:t,events:g}):(yn(r.state.value[t],z),K={type:js.patchObject,payload:z,storeId:t,events:g});const oe=E=Symbol();zn().then(()=>{E===oe&&(u=!0)}),c=!0,Xt(h,K,r.state.value[t])}const I=i?function(){const{state:K}=s,oe=K?K():{};this.$patch(pe=>{pt(pe,oe)})}:Va;function y(){o.stop(),h=[],p=[],r._s.delete(t)}function b(z,K){return function(){Rr(r);const oe=Array.from(arguments),pe=[],xe=[];function Ie(Y){pe.push(Y)}function Ct(Y){xe.push(Y)}Xt(p,{args:oe,name:z,store:D,after:Ie,onError:Ct});let Le;try{Le=K.apply(this&&this.$id===t?this:D,oe)}catch(Y){throw Xt(xe,Y),Y}return Le instanceof Promise?Le.then(Y=>(Xt(pe,Y),Y)).catch(Y=>(Xt(xe,Y),Promise.reject(Y))):(Xt(pe,Le),Le)}}const P={_p:r,$id:t,$onAction:Vi.bind(null,p),$patch:x,$reset:I,$subscribe(z,K={}){const oe=Vi(h,z,K.detached,()=>pe()),pe=o.run(()=>hs(()=>r.state.value[t],xe=>{(K.flush==="sync"?c:u)&&z({storeId:t,type:js.direct,events:g},xe)},pt({},l,K)));return oe},$dispose:y},D=ms(P);r._s.set(t,D);const V=(r._a&&r._a.runWithContext||th)(()=>r._e.run(()=>(o=No()).run(e)));for(const z in V){const K=V[z];if(_e(K)&&!nh(K)||Bt(K))i||(k&&rh(K)&&(_e(K)?K.value=k[z]:yn(K,k[z])),r.state.value[t][z]=K);else if(typeof K=="function"){const oe=b(z,K);V[z]=oe,a.actions[z]=K}}return pt(D,V),pt(X(D),V),Object.defineProperty(D,"$state",{get:()=>r.state.value[t],set:z=>{x(K=>{pt(K,z)})}}),r._p.forEach(z=>{pt(D,o.run(()=>z({store:D,app:r._a,pinia:r,options:a})))}),k&&i&&s.hydrate&&s.hydrate(D.$state,k),u=!0,c=!0,D}function Qn(t,e,s){let r,n;const i=typeof e=="function";typeof t=="string"?(r=t,n=i?s:e):(n=t,r=t.id);function o(a,l){const u=qc();return a=a||(u?ze(qa,null):null),a&&Rr(a),a=za,a._s.has(r)||(i?Ka(r,e,n,a):ih(r,n,a)),a._s.get(r)}return o.$id=r,o}/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const is=typeof document<"u";function oh(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ne=Object.assign;function Jr(t,e){const s={};for(const r in e){const n=e[r];s[r]=Ye(n)?n.map(t):t(n)}return s}const Is=()=>{},Ye=Array.isArray,Ga=/#/g,ah=/&/g,lh=/\//g,ch=/=/g,uh=/\?/g,Wa=/\+/g,hh=/%5B/g,fh=/%5D/g,Ja=/%5E/g,dh=/%60/g,Qa=/%7B/g,ph=/%7C/g,Xa=/%7D/g,gh=/%20/g;function Xn(t){return encodeURI(""+t).replace(ph,"|").replace(hh,"[").replace(fh,"]")}function _h(t){return Xn(t).replace(Qa,"{").replace(Xa,"}").replace(Ja,"^")}function wn(t){return Xn(t).replace(Wa,"%2B").replace(gh,"+").replace(Ga,"%23").replace(ah,"%26").replace(dh,"`").replace(Qa,"{").replace(Xa,"}").replace(Ja,"^")}function mh(t){return wn(t).replace(ch,"%3D")}function vh(t){return Xn(t).replace(Ga,"%23").replace(uh,"%3F")}function yh(t){return t==null?"":vh(t).replace(lh,"%2F")}function zs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const wh=/\/$/,bh=t=>t.replace(wh,"");function Qr(t,e,s="/"){let r,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),n=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Ah(r??e,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:zs(o)}}function Sh(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Ki(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function kh(t,e,s){const r=e.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&ps(e.matched[r],s.matched[n])&&Ya(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function ps(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ya(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Eh(t[s],e[s]))return!1;return!0}function Eh(t,e){return Ye(t)?Gi(t,e):Ye(e)?Gi(e,t):t===e}function Gi(t,e){return Ye(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function Ah(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const dt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var qs;(function(t){t.pop="pop",t.push="push"})(qs||(qs={}));var Ls;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ls||(Ls={}));function Ph(t){if(!t)if(is){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),bh(t)}const Oh=/^[^#]+#/;function xh(t,e){return t.replace(Oh,"#")+e}function Ch(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const $r=()=>({left:window.scrollX,top:window.scrollY});function Th(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=Ch(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Wi(t,e){return(history.state?history.state.position-e:-1)+t}const bn=new Map;function Rh(t,e){bn.set(t,e)}function $h(t){const e=bn.get(t);return bn.delete(t),e}let jh=()=>location.protocol+"//"+location.host;function Za(t,e){const{pathname:s,search:r,hash:n}=e,i=t.indexOf("#");if(i>-1){let a=n.includes(t.slice(i))?t.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),Ki(l,"")}return Ki(s,t)+r+n}function Ih(t,e,s,r){let n=[],i=[],o=null;const a=({state:p})=>{const g=Za(t,location),k=s.value,E=e.value;let x=0;if(p){if(s.value=g,e.value=p,o&&o===k){o=null;return}x=E?p.position-E.position:0}else r(g);n.forEach(I=>{I(s.value,k,{delta:x,type:qs.pop,direction:x?x>0?Ls.forward:Ls.back:Ls.unknown})})};function l(){o=s.value}function u(p){n.push(p);const g=()=>{const k=n.indexOf(p);k>-1&&n.splice(k,1)};return i.push(g),g}function c(){const{history:p}=window;p.state&&p.replaceState(ne({},p.state,{scroll:$r()}),"")}function h(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function Ji(t,e,s,r=!1,n=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:n?$r():null}}function Lh(t){const{history:e,location:s}=window,r={value:Za(t,s)},n={value:e.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=t.indexOf("#"),p=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:jh()+t+l;try{e[c?"replaceState":"pushState"](u,"",p),n.value=u}catch(g){console.error(g),s[c?"replace":"assign"](p)}}function o(l,u){const c=ne({},e.state,Ji(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=ne({},n.value,e.state,{forward:l,scroll:$r()});i(c.current,c,!0);const h=ne({},Ji(r.value,l,null),{position:c.position+1},u);i(l,h,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function Dh(t){t=Ph(t);const e=Lh(t),s=Ih(t,e.state,e.location,e.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=ne({location:"",base:t,go:r,createHref:xh.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function Uh(t){return typeof t=="string"||t&&typeof t=="object"}function el(t){return typeof t=="string"||typeof t=="symbol"}const tl=Symbol("");var Qi;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Qi||(Qi={}));function gs(t,e){return ne(new Error,{type:t,[tl]:!0},e)}function at(t,e){return t instanceof Error&&tl in t&&(e==null||!!(t.type&e))}const Xi="[^/]+?",Mh={sensitive:!1,strict:!1,start:!0,end:!0},Nh=/[.+*?^${}()[\]/\\]/g;function Fh(t,e){const s=ne({},Mh,e),r=[];let n=s.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let h=0;h<u.length;h++){const p=u[h];let g=40+(s.sensitive?.25:0);if(p.type===0)h||(n+="/"),n+=p.value.replace(Nh,"\\$&"),g+=40;else if(p.type===1){const{value:k,repeatable:E,optional:x,regexp:I}=p;i.push({name:k,repeatable:E,optional:x});const y=I||Xi;if(y!==Xi){g+=10;try{new RegExp(`(${y})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${k}" (${y}): `+P.message)}}let b=E?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(b=x&&u.length<2?`(?:/${b})`:"/"+b),x&&(b+="?"),n+=b,g+=20,x&&(g+=-8),E&&(g+=-20),y===".*"&&(g+=-50)}c.push(g)}r.push(c)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let p=1;p<c.length;p++){const g=c[p]||"",k=i[p-1];h[k.name]=g&&k.repeatable?g.split("/"):g}return h}function l(u){let c="",h=!1;for(const p of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const g of p)if(g.type===0)c+=g.value;else if(g.type===1){const{value:k,repeatable:E,optional:x}=g,I=k in u?u[k]:"";if(Ye(I)&&!E)throw new Error(`Provided param "${k}" is an array but it is not repeatable (* or + modifiers)`);const y=Ye(I)?I.join("/"):I;if(!y)if(x)p.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${k}"`);c+=y}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Bh(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function sl(t,e){let s=0;const r=t.score,n=e.score;for(;s<r.length&&s<n.length;){const i=Bh(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(Yi(r))return 1;if(Yi(n))return-1}return n.length-r.length}function Yi(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Hh={type:0,value:""},zh=/[a-zA-Z0-9_]/;function qh(t){if(!t)return[[]];if(t==="/")return[[Hh]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${s})/"${u}": ${g}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),s=1):p();break;case 4:p(),s=r;break;case 1:l==="("?s=2:zh.test(l)?p():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),n}function Vh(t,e,s){const r=Fh(qh(t.path),s),n=ne(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function Kh(t,e){const s=[],r=new Map;e=to({strict:!1,end:!0,sensitive:!1},e);function n(h){return r.get(h)}function i(h,p,g){const k=!g,E=Gh(h);E.aliasOf=g&&g.record;const x=to(e,h),I=[E];if("alias"in h){const P=typeof h.alias=="string"?[h.alias]:h.alias;for(const D of P)I.push(ne({},E,{components:g?g.record.components:E.components,path:D,aliasOf:g?g.record:E}))}let y,b;for(const P of I){const{path:D}=P;if(p&&D[0]!=="/"){const N=p.record.path,V=N[N.length-1]==="/"?"":"/";P.path=p.record.path+(D&&V+D)}if(y=Vh(P,p,x),g?g.alias.push(y):(b=b||y,b!==y&&b.alias.push(y),k&&h.name&&!eo(y)&&o(h.name)),rl(y)&&l(y),E.children){const N=E.children;for(let V=0;V<N.length;V++)i(N[V],y,g&&g.children[V])}g=g||y}return b?()=>{o(b)}:Is}function o(h){if(el(h)){const p=r.get(h);p&&(r.delete(h),s.splice(s.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=s.indexOf(h);p>-1&&(s.splice(p,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const p=Qh(h,s);s.splice(p,0,h),h.record.name&&!eo(h)&&r.set(h.record.name,h)}function u(h,p){let g,k={},E,x;if("name"in h&&h.name){if(g=r.get(h.name),!g)throw gs(1,{location:h});x=g.record.name,k=ne(Zi(p.params,g.keys.filter(b=>!b.optional).concat(g.parent?g.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),h.params&&Zi(h.params,g.keys.map(b=>b.name))),E=g.stringify(k)}else if(h.path!=null)E=h.path,g=s.find(b=>b.re.test(E)),g&&(k=g.parse(E),x=g.record.name);else{if(g=p.name?r.get(p.name):s.find(b=>b.re.test(p.path)),!g)throw gs(1,{location:h,currentLocation:p});x=g.record.name,k=ne({},p.params,h.params),E=g.stringify(k)}const I=[];let y=g;for(;y;)I.unshift(y.record),y=y.parent;return{name:x,path:E,params:k,matched:I,meta:Jh(I)}}t.forEach(h=>i(h));function c(){s.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:n}}function Zi(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function Gh(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Wh(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Wh(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function eo(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Jh(t){return t.reduce((e,s)=>ne(e,s.meta),{})}function to(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}function Qh(t,e){let s=0,r=e.length;for(;s!==r;){const i=s+r>>1;sl(t,e[i])<0?r=i:s=i+1}const n=Xh(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function Xh(t){let e=t;for(;e=e.parent;)if(rl(e)&&sl(t,e)===0)return e}function rl({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Yh(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(Wa," "),o=i.indexOf("="),a=zs(o<0?i:i.slice(0,o)),l=o<0?null:zs(i.slice(o+1));if(a in e){let u=e[a];Ye(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function so(t){let e="";for(let s in t){const r=t[s];if(s=mh(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(Ye(r)?r.map(i=>i&&wn(i)):[r&&wn(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function Zh(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=Ye(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const ef=Symbol(""),ro=Symbol(""),jr=Symbol(""),Yn=Symbol(""),Sn=Symbol("");function bs(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function vt(t,e,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=p=>{p===!1?l(gs(4,{from:s,to:e})):p instanceof Error?l(p):Uh(p)?l(gs(2,{from:e,to:p})):(o&&r.enterCallbacks[n]===o&&typeof p=="function"&&o.push(p),a())},c=i(()=>t.call(r&&r.instances[n],e,s,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(p=>l(p))})}function Xr(t,e,s,r,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(tf(l)){const c=(l.__vccOpts||l)[e];c&&i.push(vt(c,s,r,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const h=oh(c)?c.default:c;o.components[a]=h;const g=(h.__vccOpts||h)[e];return g&&vt(g,s,r,o,a,n)()}))}}return i}function tf(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function no(t){const e=ze(jr),s=ze(Yn),r=ge(()=>{const l=se(t.to);return e.resolve(l)}),n=ge(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=s.matched;if(!c||!h.length)return-1;const p=h.findIndex(ps.bind(null,c));if(p>-1)return p;const g=io(l[u-2]);return u>1&&io(c)===g&&h[h.length-1].path!==g?h.findIndex(ps.bind(null,l[u-2])):p}),i=ge(()=>n.value>-1&&nf(s.params,r.value.params)),o=ge(()=>n.value>-1&&n.value===s.matched.length-1&&Ya(s.params,r.value.params));function a(l={}){return rf(l)?e[se(t.replace)?"replace":"push"](se(t.to)).catch(Is):Promise.resolve()}return{route:r,href:ge(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const sf=je({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:no,setup(t,{slots:e}){const s=ms(no(t)),{options:r}=ze(jr),n=ge(()=>({[oo(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[oo(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&e.default(s);return t.custom?i:Ha("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),nl=sf;function rf(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function nf(t,e){for(const s in e){const r=e[s],n=t[s];if(typeof r=="string"){if(r!==n)return!1}else if(!Ye(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function io(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const oo=(t,e,s)=>t??e??s,of=je({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=ze(Sn),n=ge(()=>t.route||r.value),i=ze(ro,0),o=ge(()=>{let u=se(i);const{matched:c}=n.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=ge(()=>n.value.matched[o.value]);cr(ro,ge(()=>o.value+1)),cr(ef,a),cr(Sn,n);const l=qt();return hs(()=>[l.value,a.value,t.name],([u,c,h],[p,g,k])=>{c&&(c.instances[h]=u,g&&g!==c&&u&&u===p&&(c.leaveGuards.size||(c.leaveGuards=g.leaveGuards),c.updateGuards.size||(c.updateGuards=g.updateGuards))),u&&c&&(!g||!ps(c,g)||!p)&&(c.enterCallbacks[h]||[]).forEach(E=>E(u))},{flush:"post"}),()=>{const u=n.value,c=t.name,h=a.value,p=h&&h.components[c];if(!p)return ao(s.default,{Component:p,route:u});const g=h.props[c],k=g?g===!0?u.params:typeof g=="function"?g(u):g:null,x=Ha(p,ne({},k,e,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return ao(s.default,{Component:x,route:u})||x}}});function ao(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const il=of;function af(t){const e=Kh(t.routes,t),s=t.parseQuery||Yh,r=t.stringifyQuery||so,n=t.history,i=bs(),o=bs(),a=bs(),l=fc(dt);let u=dt;is&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Jr.bind(null,v=>""+v),h=Jr.bind(null,yh),p=Jr.bind(null,zs);function g(v,$){let R,L;return el(v)?(R=e.getRecordMatcher(v),L=$):L=v,e.addRoute(L,R)}function k(v){const $=e.getRecordMatcher(v);$&&e.removeRoute($)}function E(){return e.getRoutes().map(v=>v.record)}function x(v){return!!e.getRecordMatcher(v)}function I(v,$){if($=ne({},$||l.value),typeof v=="string"){const d=Qr(s,v,$.path),_=e.resolve({path:d.path},$),w=n.createHref(d.fullPath);return ne(d,_,{params:p(_.params),hash:zs(d.hash),redirectedFrom:void 0,href:w})}let R;if(v.path!=null)R=ne({},v,{path:Qr(s,v.path,$.path).path});else{const d=ne({},v.params);for(const _ in d)d[_]==null&&delete d[_];R=ne({},v,{params:h(d)}),$.params=h($.params)}const L=e.resolve(R,$),re=v.hash||"";L.params=c(p(L.params));const he=Sh(r,ne({},v,{hash:_h(re),path:L.path})),f=n.createHref(he);return ne({fullPath:he,hash:re,query:r===so?Zh(v.query):v.query||{}},L,{redirectedFrom:void 0,href:f})}function y(v){return typeof v=="string"?Qr(s,v,l.value.path):ne({},v)}function b(v,$){if(u!==v)return gs(8,{from:$,to:v})}function P(v){return V(v)}function D(v){return P(ne(y(v),{replace:!0}))}function N(v){const $=v.matched[v.matched.length-1];if($&&$.redirect){const{redirect:R}=$;let L=typeof R=="function"?R(v):R;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=y(L):{path:L},L.params={}),ne({query:v.query,hash:v.hash,params:L.path!=null?{}:v.params},L)}}function V(v,$){const R=u=I(v),L=l.value,re=v.state,he=v.force,f=v.replace===!0,d=N(R);if(d)return V(ne(y(d),{state:typeof d=="object"?ne({},re,d.state):re,force:he,replace:f}),$||R);const _=R;_.redirectedFrom=$;let w;return!he&&kh(r,L,R)&&(w=gs(16,{to:_,from:L}),Ze(L,L,!0,!1)),(w?Promise.resolve(w):oe(_,L)).catch(m=>at(m)?at(m,2)?m:ht(m):ee(m,_,L)).then(m=>{if(m){if(at(m,2))return V(ne({replace:f},y(m.to),{state:typeof m.to=="object"?ne({},re,m.to.state):re,force:he}),$||_)}else m=xe(_,L,!0,f,re);return pe(_,L,m),m})}function z(v,$){const R=b(v,$);return R?Promise.reject(R):Promise.resolve()}function K(v){const $=Jt.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(v):v()}function oe(v,$){let R;const[L,re,he]=lf(v,$);R=Xr(L.reverse(),"beforeRouteLeave",v,$);for(const d of L)d.leaveGuards.forEach(_=>{R.push(vt(_,v,$))});const f=z.bind(null,v,$);return R.push(f),De(R).then(()=>{R=[];for(const d of i.list())R.push(vt(d,v,$));return R.push(f),De(R)}).then(()=>{R=Xr(re,"beforeRouteUpdate",v,$);for(const d of re)d.updateGuards.forEach(_=>{R.push(vt(_,v,$))});return R.push(f),De(R)}).then(()=>{R=[];for(const d of he)if(d.beforeEnter)if(Ye(d.beforeEnter))for(const _ of d.beforeEnter)R.push(vt(_,v,$));else R.push(vt(d.beforeEnter,v,$));return R.push(f),De(R)}).then(()=>(v.matched.forEach(d=>d.enterCallbacks={}),R=Xr(he,"beforeRouteEnter",v,$,K),R.push(f),De(R))).then(()=>{R=[];for(const d of o.list())R.push(vt(d,v,$));return R.push(f),De(R)}).catch(d=>at(d,8)?d:Promise.reject(d))}function pe(v,$,R){a.list().forEach(L=>K(()=>L(v,$,R)))}function xe(v,$,R,L,re){const he=b(v,$);if(he)return he;const f=$===dt,d=is?history.state:{};R&&(L||f?n.replace(v.fullPath,ne({scroll:f&&d&&d.scroll},re)):n.push(v.fullPath,re)),l.value=v,Ze(v,$,R,f),ht()}let Ie;function Ct(){Ie||(Ie=n.listen((v,$,R)=>{if(!Xs.listening)return;const L=I(v),re=N(L);if(re){V(ne(re,{replace:!0}),L).catch(Is);return}u=L;const he=l.value;is&&Rh(Wi(he.fullPath,R.delta),$r()),oe(L,he).catch(f=>at(f,12)?f:at(f,2)?(V(f.to,L).then(d=>{at(d,20)&&!R.delta&&R.type===qs.pop&&n.go(-1,!1)}).catch(Is),Promise.reject()):(R.delta&&n.go(-R.delta,!1),ee(f,L,he))).then(f=>{f=f||xe(L,he,!1),f&&(R.delta&&!at(f,8)?n.go(-R.delta,!1):R.type===qs.pop&&at(f,20)&&n.go(-1,!1)),pe(L,he,f)}).catch(Is)}))}let Le=bs(),Y=bs(),ie;function ee(v,$,R){ht(v);const L=Y.list();return L.length?L.forEach(re=>re(v,$,R)):console.error(v),Promise.reject(v)}function ot(){return ie&&l.value!==dt?Promise.resolve():new Promise((v,$)=>{Le.add([v,$])})}function ht(v){return ie||(ie=!v,Ct(),Le.list().forEach(([$,R])=>v?R(v):$()),Le.reset()),v}function Ze(v,$,R,L){const{scrollBehavior:re}=t;if(!is||!re)return Promise.resolve();const he=!R&&$h(Wi(v.fullPath,0))||(L||!R)&&history.state&&history.state.scroll||null;return zn().then(()=>re(v,$,he)).then(f=>f&&Th(f)).catch(f=>ee(f,v,$))}const Pe=v=>n.go(v);let Wt;const Jt=new Set,Xs={currentRoute:l,listening:!0,addRoute:g,removeRoute:k,clearRoutes:e.clearRoutes,hasRoute:x,getRoutes:E,resolve:I,options:t,push:P,replace:D,go:Pe,back:()=>Pe(-1),forward:()=>Pe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Y.add,isReady:ot,install(v){const $=this;v.component("RouterLink",nl),v.component("RouterView",il),v.config.globalProperties.$router=$,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>se(l)}),is&&!Wt&&l.value===dt&&(Wt=!0,P(n.location).catch(re=>{}));const R={};for(const re in dt)Object.defineProperty(R,re,{get:()=>l.value[re],enumerable:!0});v.provide(jr,$),v.provide(Yn,Yo(R)),v.provide(Sn,l);const L=v.unmount;Jt.add(v),v.unmount=function(){Jt.delete(v),Jt.size<1&&(u=dt,Ie&&Ie(),Ie=null,l.value=dt,Wt=!1,ie=!1),L()}}};function De(v){return v.reduce(($,R)=>$.then(()=>K(R)),Promise.resolve())}return Xs}function lf(t,e){const s=[],r=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>ps(u,a))?r.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>ps(u,l))||n.push(l))}return[s,r,n]}function cf(){return ze(jr)}function ol(t){return ze(Yn)}const uf="modulepreload",hf=function(t){return"https://darkhonin.github.io/VirtualGallery/"+t},lo={},Fe=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.all(s.map(a=>{if(a=hf(a),a in lo)return;lo[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":uf,l||(c.as="script",c.crossOrigin=""),c.href=a,o&&c.setAttribute("nonce",o),document.head.appendChild(c),l)return new Promise((h,p)=>{c.addEventListener("load",h),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})}))}return n.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},ff=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Fe(async()=>{const{default:r}=await Promise.resolve().then(()=>vs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class Zn extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class df extends Zn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class pf extends Zn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gf extends Zn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var kn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(kn||(kn={}));var _f=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class mf{constructor(e,{headers:s={},customFetch:r,region:n=kn.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=ff(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return _f(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(k=>{throw new df(k)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new pf(c);if(!c.ok)throw new gf(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}var qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var Be={},ei={},Ir={},Js={},Lr={},Dr={},yf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_s=yf();const wf=_s.fetch,al=_s.fetch.bind(_s),ll=_s.Headers,bf=_s.Request,Sf=_s.Response,vs=Object.freeze(Object.defineProperty({__proto__:null,Headers:ll,Request:bf,Response:Sf,default:al,fetch:wf},Symbol.toStringTag,{value:"Module"})),kf=vf(vs);var ti={};Object.defineProperty(ti,"__esModule",{value:!0});class Ef extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}ti.default=Ef;var cl=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dr,"__esModule",{value:!0});const Af=cl(kf),Pf=cl(ti);let Of=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Af.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,h=null,p=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const I=await i.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=I:c=JSON.parse(I))}const E=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");E&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,p=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const E=await i.text();try{u=JSON.parse(E),Array.isArray(u)&&i.status===404&&(c=[],u=null,p=200,g="OK")}catch{i.status===404&&E===""?(p=204,g="No Content"):u={message:E}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&this.shouldThrowOnError)throw new Pf.default(u)}return{error:u,data:c,count:h,status:p,statusText:g}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}};Dr.default=Of;var xf=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lr,"__esModule",{value:!0});const Cf=xf(Dr);let Tf=class extends Cf.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Lr.default=Tf;var Rf=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Js,"__esModule",{value:!0});const $f=Rf(Lr);let jf=class extends $f.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};Js.default=jf;var If=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ir,"__esModule",{value:!0});const Ss=If(Js);let Lf=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Ss.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ss.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ss.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new Ss.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ss.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ir.default=Lf;var Ur={},Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.version=void 0;Mr.version="0.0.0-automated";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.DEFAULT_HEADERS=void 0;const Df=Mr;Ur.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Df.version}`};var ul=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ei,"__esModule",{value:!0});const Uf=ul(Ir),Mf=ul(Js),Nf=Ur;let Ff=class hl{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},Nf.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new Uf.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new hl(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Mf.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ei.default=Ff;var Qs=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Be,"__esModule",{value:!0});Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;const fl=Qs(ei);Be.PostgrestClient=fl.default;const dl=Qs(Ir);Be.PostgrestQueryBuilder=dl.default;const pl=Qs(Js);Be.PostgrestFilterBuilder=pl.default;const gl=Qs(Lr);Be.PostgrestTransformBuilder=gl.default;const _l=Qs(Dr);Be.PostgrestBuilder=_l.default;var Bf=Be.default={PostgrestClient:fl.default,PostgrestQueryBuilder:dl.default,PostgrestFilterBuilder:pl.default,PostgrestTransformBuilder:gl.default,PostgrestBuilder:_l.default};const{PostgrestClient:Hf,PostgrestQueryBuilder:Og,PostgrestFilterBuilder:xg,PostgrestTransformBuilder:Cg,PostgrestBuilder:Tg}=Bf,zf="2.10.2",qf={"X-Client-Info":`realtime-js/${zf}`},Vf="1.0.0",ml=1e4,Kf=1e3;var fs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(fs||(fs={}));var Te;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Te||(Te={}));var We;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(We||(We={}));var En;(function(t){t.websocket="websocket"})(En||(En={}));var Mt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Mt||(Mt={}));class Gf{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class vl{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ae;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ae||(ae={}));const co=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Wf(o,t,e,n),i),{})},Wf=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?yl(i,o):An(o)},yl=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Yf(e,s)}switch(t){case ae.bool:return Jf(e);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return Qf(e);case ae.json:case ae.jsonb:return Xf(e);case ae.timestamp:return Zf(e);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return An(e);default:return An(e)}},An=t=>t,Jf=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Qf=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Xf=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Yf=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>yl(e,a))}return t},Zf=t=>typeof t=="string"?t.replace(" ","T"):t,wl=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Yr{constructor(e,s,r={},n=ml){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var uo;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(uo||(uo={}));class Ds{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ds.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Ds.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Ds.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const p=c.map(x=>x.presence_ref),g=h.map(x=>x.presence_ref),k=c.filter(x=>g.indexOf(x.presence_ref)<0),E=h.filter(x=>p.indexOf(x.presence_ref)<0);k.length>0&&(a[u]=k),E.length>0&&(l[u]=E)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),p=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ho;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ho||(ho={}));var fo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(fo||(fo={}));var po;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(po||(po={}));class si{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Yr(this,We.join,this.params,this.timeout),this.rejoinTimer=new vl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Te.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Ds(this),this.broadcastEndpointURL=wl(this.socket.endPoint)+"/api/broadcast"}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",({postgres_changes:c})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const p=this.bindings.postgres_changes,g=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,k=[];for(let E=0;E<g;E++){const x=p[E],{filter:{event:I,schema:y,table:b,filter:P}}=x,D=c&&c[E];if(D&&D.event===I&&D.schema===y&&D.table===b&&D.filter===P)k.push(Object.assign(Object.assign({},x),{id:D.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=l.body)===null||n===void 0?void 0:n.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Te.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new Yr(this,We.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Yr(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=We;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var k,E,x;return((k=g.filter)===null||k===void 0?void 0:k.event)==="*"||((x=(E=g.filter)===null||E===void 0?void 0:E.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var k,E,x,I,y,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const P=g.id,D=(k=g.filter)===null||k===void 0?void 0:k.event;return P&&((E=s.ids)===null||E===void 0?void 0:E.includes(P))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((x=s.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const P=(y=(I=g==null?void 0:g.filter)===null||I===void 0?void 0:I.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return P==="*"||P===((b=s==null?void 0:s.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const k=p.data,{schema:E,table:x,commit_timestamp:I,type:y,errors:b}=k;p=Object.assign(Object.assign({},{schema:E,table:x,commit_timestamp:I,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(k))}g.callback(p,r)})}_isClosed(){return this.state===Te.closed}_isJoined(){return this.state===Te.joined}_isJoining(){return this.state===Te.joining}_isLeaving(){return this.state===Te.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&si.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(We.close,{},e)}_onError(e){this._on(We.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Te.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=co(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=co(e.columns,e.old_record)),s}}const ed=()=>{},td=typeof WebSocket<"u";class sd{constructor(e,s){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=qf,this.params={},this.timeout=ml,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ed,this.conn=null,this.sendBuffer=[],this.serializer=new Gf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Fe(async()=>{const{default:l}=await Promise.resolve().then(()=>vs);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${En.websocket}`,this.httpEndpoint=wl(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;n&&(this.accessToken=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(td){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new rd(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Fe(async()=>{const{default:e}=await import("./browser-Bsdb9GER.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fs.connecting:return Mt.Connecting;case fs.open:return Mt.Open;case fs.closing:return Mt.Closing;default:return Mt.Closed}}isConnected(){return this.connectionState()===Mt.Open}channel(e,s={config:{}}){const r=new si(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(s=>{e&&s.updateJoinPayload({access_token:e}),s.joinedOnce&&s._isJoined()&&s._push(We.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Vf}))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;(o&&o===this.pendingHeartbeatRef||n===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(We.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Kf,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class rd{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=fs.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class ri extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function be(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class nd extends ri{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class go extends ri{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var id=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const bl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Fe(async()=>{const{default:r}=await Promise.resolve().then(()=>vs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},od=()=>id(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fe(()=>Promise.resolve().then(()=>vs),void 0)).Response:Response});var ys=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Zr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ad=(t,e)=>ys(void 0,void 0,void 0,function*(){const s=yield od();t instanceof s?t.json().then(r=>{e(new nd(Zr(r),t.status||500))}).catch(r=>{e(new go(Zr(r),r))}):e(new go(Zr(t),t))}),ld=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};function Nr(t,e,s,r,n,i){return ys(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,ld(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ad(l,a))})})}function Pn(t,e,s,r){return ys(this,void 0,void 0,function*(){return Nr(t,"GET",e,s,r)})}function yt(t,e,s,r,n){return ys(this,void 0,void 0,function*(){return Nr(t,"POST",e,r,n,s)})}function cd(t,e,s,r,n){return ys(this,void 0,void 0,function*(){return Nr(t,"PUT",e,r,n,s)})}function Sl(t,e,s,r,n){return ys(this,void 0,void 0,function*(){return Nr(t,"DELETE",e,r,n,s)})}var Ue=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const ud={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_o={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hd{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=bl(n)}uploadOrUpdate(e,s,r,n){return Ue(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},_o),n),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl)):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(s),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield c.json();return c.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(be(i))return{data:null,error:i};throw i}})}upload(e,s,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return Ue(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:_o.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(be(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield yt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ri("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}update(e,s,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}copy(e,s,r){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return Ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield yt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return Ue(this,void 0,void 0,function*(){try{const n=yield yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}download(e,s){return Ue(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Pn(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(be(a))return{data:null,error:a};throw a}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield Sl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}list(e,s,r){return Ue(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},ud),s),{prefix:e||""});return{data:yield yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const fd="2.6.0",dd={"X-Client-Info":`storage-js/${fd}`};var Yt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class pd{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},dd),s),this.fetch=bl(r)}listBuckets(){return Yt(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(be(e))return{data:null,error:e};throw e}})}getBucket(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Yt(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Yt(this,void 0,void 0,function*(){try{return{data:yield cd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield Sl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}}class gd extends pd{constructor(e,s={},r){super(e,s,r)}from(e){return new hd(this.url,this.headers,e,this.fetch)}}const _d="2.44.4";let xs="";typeof Deno<"u"?xs="deno":typeof document<"u"?xs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xs="react-native":xs="node";const md={"X-Client-Info":`supabase-js-${xs}/${_d}`},vd={headers:md},yd={schema:"public"},wd={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bd={};var Sd=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const kd=t=>{let e;return t?e=t:typeof fetch>"u"?e=al:e=fetch,(...s)=>e(...s)},Ed=()=>typeof Headers>"u"?ll:Headers,Ad=(t,e,s)=>{const r=kd(s),n=Ed();return(i,o)=>Sd(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};function Pd(t){return t.replace(/\/$/,"")}function Od(t,e){const{db:s,auth:r,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e;return{db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i)}}const kl="2.64.4",xd="http://localhost:9999",Cd="supabase.auth.token",Td={"X-Client-Info":`gotrue-js/${kl}`},mo=10,On="X-Supabase-Api-Version",El={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Rd(t){return Math.round(Date.now()/1e3)+t}function $d(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ke=()=>typeof document<"u",$t={tested:!1,writable:!1},Us=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($t.tested)return $t.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$t.tested=!0,$t.writable=!0}catch{$t.tested=!0,$t.writable=!1}return $t.writable};function en(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Al=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Fe(async()=>{const{default:r}=await Promise.resolve().then(()=>vs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},jd=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pl=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},ir=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},tn=async(t,e)=>{await t.removeItem(e)};function Id(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,n,i,o,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),r=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(r),l!=64&&n!=0&&(s=s+String.fromCharCode(n)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class Fr{constructor(){this.promise=new Fr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Fr.promiseConstructor=Promise;function vo(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(Id(r))}async function Ld(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Dd(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Ud(t){return("0"+t.toString(16)).substr(-2)}function Md(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Ud).join("")}async function Nd(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function Fd(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bd(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Nd(t);return Fd(s)}async function Zt(t,e,s=!1){const r=Md();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Pl(t,`${e}-code-verifier`,n);const i=await Bd(r);return[i,r===i?"plain":"s256"]}const Hd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zd(t){const e=t.headers.get(On);if(!e||!e.match(Hd))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class ni extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function W(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class qd extends ni{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Vd(t){return W(t)&&t.name==="AuthApiError"}class Ol extends ni{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Gt extends ni{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class jt extends Gt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class sn extends Gt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class or extends Gt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ar extends Gt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yo extends Gt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xn extends Gt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function rn(t){return W(t)&&t.name==="AuthRetryableFetchError"}class wo extends Gt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}var Kd=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const Lt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Gd=[502,503,504];async function bo(t){var e;if(!jd(t))throw new xn(Lt(t),0);if(Gd.includes(t.status))throw new xn(Lt(t),t.status);let s;try{s=await t.json()}catch(i){throw new Ol(Lt(i),i)}let r;const n=zd(t);if(n&&n.getTime()>=El["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new wo(Lt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[])}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new wo(Lt(s),t.status,s.weak_password.reasons);throw new qd(Lt(s),t.status||500,r)}const Wd=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function J(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[On]||(i[On]=El["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Jd(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Jd(t,e,s,r,n,i){const o=Wd(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new xn(Lt(l),0)}if(a.ok||await bo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await bo(l)}}function gt(t){var e;let s=null;Zd(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Rd(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function So(t){const e=gt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function wt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Qd(t){return{data:t,error:null}}function Xd(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=Kd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Yd(t){return t}function Zd(t){return t.access_token&&t.refresh_token&&t.expires_in}var ep=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class tp{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Al(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:wt})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=ep(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Xd,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(W(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wt})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Yd});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(k=>{const E=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(k.split(";")[1].split("=")[1]);u[`${x}Page`]=E}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(W(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await J(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wt})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:wt})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:wt})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await J(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(W(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}}const sp={getItem:t=>Us()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Us()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Us()&&globalThis.localStorage.removeItem(t)}};function ko(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function rp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const es={debug:!!(globalThis&&Us()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class np extends xl{}async function ip(t,e,s){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),es.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{es.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw es.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new np(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(es.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}})}rp();const op={url:xd,storageKey:Cd,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Td,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ks=30*1e3,Eo=3;async function Ao(t,e,s){return await s()}class Vs{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vs.nextInstanceID,Vs.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},op),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new tp({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Al(n.fetch),this.lock=n.lock||Ao,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ke()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=ip:this.lock=Ao,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Us()?this.storage=sp:(this.memoryStorage={},this.storage=ko(this.memoryStorage)):(this.memoryStorage={},this.storage=ko(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Ke()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:n,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",n,"redirect type",i),await this._saveSession(n),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return W(e)?{error:e}:{error:new Ol("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:gt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:p}=e;let g=null,k=null;this.flowType==="pkce"&&([g,k]=await Zt(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:k},xform:gt})}else if("phone"in e){const{phone:c,password:h,options:p}=e;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:gt})}else throw new or("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:So})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:So})}else throw new or("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new sn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await ir(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/"),{data:i,error:o}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:gt});return await tn(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new sn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:gt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new sn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Zt(this.storage,this.storageKey));const{error:h}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new or("You must provide either an email or phone number.")}catch(a){if(W(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:gt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Zt(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Qd})}catch(i){if(W(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new jt;const{error:n}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(W(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await J(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await J(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new or("You must provide either an email or phone number and a type")}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await ir(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:wt})})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new jt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Zt(this.storage,this.storageKey));const{data:u,error:c}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:wt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return vo(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const o=vo(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(W(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new jt;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e){try{if(!Ke())throw new ar("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new ar("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new yo("Not a valid PKCE flow url.");const s=en(window.location.href);if(e){if(!s.code)throw new yo("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(s.code);if(b)throw b;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:y.session,redirectType:null},error:null}}if(s.error||s.error_description||s.error_code)throw new ar(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=s;if(!i||!a||!o||!u)throw new ar("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const g=p-c;g*1e3<=ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const k=p-h;c-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,p,c):c-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",k,p,c);const{data:E,error:x}=await this._getUser(i);if(x)throw x;const I={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:s.type},error:null}}catch(s){if(W(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantFlow(){const e=en(window.location.href);return!!(Ke()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=en(window.location.href),s=await ir(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Vd(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await tn(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const s=$d(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Zt(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(W(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Ke()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(W(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Dd(async n=>(n>0&&await Ld(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&rn(i)&&Date.now()+o-r<ks})}catch(r){if(this._debug(s,"error",r),W(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Ke()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await ir(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<n+mo;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${mo}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),rn(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Fr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new jt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),W(i)){const o={session:null,error:i};return rn(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Pl(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await tn(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ks);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ks}ms, refresh threshold is ${Eo} ticks`),n<=Eo&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Zt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const{data:a,error:l}=await J(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(!((n=a==null?void 0:a.totp)===null||n===void 0)&&n.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await J(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(W(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await J(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(W(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:r,totp:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Vs.nextInstanceID=0;const ap=Vs;class lp extends ap{constructor(e){super(e)}}var cp=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class up{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Pd(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:yd,realtime:bd,auth:Object.assign(Object.assign({},wd),{storageKey:l}),global:vd},c=Od(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Ad(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},c.realtime)),this.rest=new Hf(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new mf(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gd(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return cp(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,debug:a},l,u){var c;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lp({url:this.authUrl,headers:Object.assign(Object.assign({},h),l),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,debug:a,fetch:u,hasCustomAuthorizationHeader:(c="Authorization"in this.headers)!==null&&c!==void 0?c:!1})}_initRealtimeClient(e){return new sd(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hp=(t,e,s)=>new up(t,e,s),Ht=hp("http://127.0.0.1:54321","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0"),ii=t=>({state:{_stateActions:Object.fromEntries(Object.entries(t).map(([s,r])=>[s,!1]))},getters:{actions:()=>t,activeActions:({_stateActions:s})=>Object.entries(s).filter(([r,n])=>n).map(([r,n])=>t[r]),isActionActive:({_stateActions:s})=>r=>s[r],isActing:({_stateActions:s})=>Object.values(s).some(r=>r)},async runAction({_stateActions:s},r,n){s[r]=!0;try{return await n()}catch(i){throw console.error(i),i}finally{s[r]=!1}}}),fp=async(t,e)=>{try{const s=await fetch(["http://127.0.0.1:54321","functions/v1",t].join("/"),{...e,method:e!=null&&e.body?"POST":"GET",headers:{...e==null?void 0:e.headers,Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"authorization, x-client-info, apikey, content-type, Access-Control-Allow-Origin, access-control-allow-headers"}}),r=await s.json();if(s.status!==200)throw r;return r}catch(s){throw s}},dp={loading:"Loading Session",signIn:"Signing In",signOut:"Signing Out"},ts=ii(dp),Ks=Qn("UserStore",{state:()=>({_session:void 0,...ts.state}),getters:{user:({_session:t})=>t==null?void 0:t.user,...ts.getters},actions:{preflight(){return ts.runAction(this,"loading",async()=>Ht.auth.getSession().then(({data:t})=>{if(!t||!t.session)return this._session=void 0;this._session=t.session}))},async signIn(t){return ts.runAction(this,"signIn",()=>fp("vue-signin",{body:JSON.stringify({email:t})}))},async signInWPass(t,e){return ts.runAction(this,"signIn",async()=>{const{data:s,error:r}=await Ht.auth.signInWithPassword({email:t,password:e});if(r)throw r;this._session=s.session})},logout(){return ts.runAction(this,"signOut",async()=>(await new Promise(t=>setTimeout(t,5e3)),this._session=void 0,Ht.auth.signOut()))}}}),pp={youtube:"https://www.youtube.com/s/desktop/ef8ce500/img/favicon_144x144.png",telegram:"https://telegram.org/img/t_logo.png","ko-fi":"https://storage.ko-fi.com/cdn/nav-logo-stroke.png"},oi=je({__name:"Base.icon",props:{name:{},style:{default:()=>"outlined"}},setup(t){return(e,s)=>rt(e.$slots,"default",{},()=>[B("span",{class:Xe(`material-symbols-${e.style}`)},Sr(e.name),3)])}}),gp=["width","height"],_p=B("defs",null,[B("linearGradient",{id:"spikeFill"},[B("stop",{offset:"0%","stop-color":"transparent"}),B("stop",{offset:"50%","stop-color":"white"})])],-1),mp=["transform-origin"],vp=["id","width","height"],yp=["width","height"],wp=["cx","cy","r"],bp=["width","height"],Sp=["x","width","height"],kp=["mask","transform-origin"],Ep=["d","transform-origin"],Ap=["values"],Pp=["transform-origin","d"],Op=B("animateTransform",{attributeName:"transform",attributeType:"XML",type:"scale",values:"1 1;1 2;1 1",additive:"sum","calc-mode":"spline",dur:"20s",repeatCount:"indefinite"},null,-1),xp=[Op],Cp=["cx","cy","r"],Tp=["mask","transform-origin"],Rp=["d"],$p=["transform-origin","d"],jp=["cx","cy","r"],Ip=B("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",values:"0;360","calc-mode":"spline",dur:"60s",repeatCount:"indefinite"},null,-1),Lp=["transform-origin"],Dp=["id"],Up=["cx","cy","r"],Mp=["cx","cy","r"],Np=["cx","cy","r","mask"],Fp=B("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",values:"0;360","calc-mode":"spline",dur:"60s",repeatCount:"indefinite"},null,-1),ai=je({__name:"Brand.graphic",props:{width:{},height:{}},setup(t){const e=t,s=qt(),r=crypto.randomUUID(),n=crypto.randomUUID(),i=ge(()=>{if(!s.value)return[0,0];const{width:u,height:c}=o.value;return[u,c]}),o=qt({width:0,height:0}),a=()=>{const[u,c]=[e.width,e.height].map(p=>typeof p=="string"?parseInt(p):p),{min:h}=Math;o.value={width:h(u,window.innerWidth),height:c}};Pr(()=>{window.addEventListener("resize",a),a()}),Or(()=>{window.removeEventListener("resize",a)});const l=ge(()=>i.value.map(u=>u/2));return(u,c)=>(le(),ke("svg",{width:o.value.width,height:o.value.height,"view-box":"0 0 1500 1500",xmlns:"http://www.w3.org/2000/svg",ref_key:"root",ref:s,"xmlns:xlink":"http://www.w3.org/1999/xlink"},[_p,B("g",{"transform-origin":l.value.join(" ")},[B("mask",{id:se(r),width:i.value[0],height:i.value[1]},[B("rect",{x:"0",y:"0",width:i.value[0],height:i.value[1],fill:"white"},null,8,yp),B("circle",{cx:l.value[0],cy:l.value[1],r:i.value[0]/5,fill:"black"},null,8,wp),B("rect",{x:"0",y:"0",width:i.value[0],height:l.value[1],fill:"black"},null,8,bp),B("rect",{x:l.value[0],y:"0",width:l.value[0],height:i.value[1],fill:"black"},null,8,Sp)],8,vp),B("g",{mask:`url(#${se(r)})`,"transform-origin":l.value.join(" ")},[B("path",{fill:"url(#spikeFill)",d:`M 0,${l.value[1]} L ${l.value[0]*.9},${l.value[1]-l.value[1]/10} L ${l.value[0]*.9},${l.value[1]+l.value[1]/10}`,"shape-rendering":"optimizeQuality","transform-origin":l.value.join(" ")},[B("animateTransform",{attributeName:"transform",attributeType:"XML",type:"translate",values:`0 0;${l.value[0]*.1} 0;0 0`,"calc-mode":"spline",dur:"20s",repeatCount:"indefinite"},null,8,Ap)],8,Ep),B("path",{fill:"url(#spikeFill)","transform-origin":l.value.join(" "),transform:"rotate(-90)",d:`M 0,${l.value[1]} L ${l.value[0]},${l.value[1]-l.value[1]/10} L ${l.value[0]},${l.value[1]+l.value[1]/10}`,"shape-rendering":"optimizeQuality"},xp,8,Pp),B("circle",{fill:"white",cx:l.value[0],cy:l.value[1],r:i.value[0]/5+i.value[0]/50},null,8,Cp)],8,kp),B("g",{mask:`url(#${se(r)})`,"transform-origin":l.value.join(" "),transform:"rotate(180)"},[B("path",{fill:"url(#spikeFill)",d:`M 0,${l.value[1]} L ${l.value[0]},${l.value[1]-l.value[1]/10} L ${l.value[0]},${l.value[1]+l.value[1]/10}`,"shape-rendering":"optimizeQuality"},null,8,Rp),B("path",{fill:"url(#spikeFill)","transform-origin":l.value.join(" "),transform:"rotate(-90)",d:`M 0,${l.value[1]} L ${l.value[0]},${l.value[1]-l.value[1]/10} L ${l.value[0]},${l.value[1]+l.value[1]/10}`,"shape-rendering":"optimizeQuality"},null,8,$p),B("circle",{fill:"white",cx:l.value[0],cy:l.value[1],r:i.value[0]/5+i.value[0]/50},null,8,jp)],8,Tp),Ip],8,mp),B("g",{"transform-origin":l.value.map((h,p)=>p%2?h+h*.01:h-h*.01).join(" ")},[B("mask",{id:se(n)},[B("circle",{cx:l.value[0],cy:l.value[1],r:i.value[0]*.3,fill:"white"},null,8,Up),B("circle",{cx:l.value[0],cy:l.value[1],r:i.value[0]*.12,fill:"black"},null,8,Mp)],8,Dp),B("circle",{cx:l.value[0],cy:l.value[1],r:i.value[0]*.135,mask:`url(#${se(n)})`,fill:"white"},null,8,Np),Fp],8,Lp)],8,gp))}}),Bp={class:"text-center m-auto"},Hp=je({__name:"Spinner.loader",props:{loading:{type:Boolean},size:{default:()=>"sm"},message:{}},setup(t){const e=t;return ge(()=>({sm:"scale-100",md:"scale-125",lg:"scale-150"})[e.size]),(s,r)=>s.loading?(le(),ke("div",it({key:0,class:"loader-spinner text-label-primary w-min h-min animate-pulse inline-flex overflow-visible"},s.$attrs),[Z(ai,{width:"100",height:"100",name:"progress_activity"}),B("label",Bp,Sr(s.message),1)],16)):rt(s.$slots,"default",{key:1})}}),Po=je({__name:"Drawer.component",props:{direction:{default:()=>"horizontal"},expand:{type:Boolean,default:()=>!1}},setup(t){const e=t,s=ge(()=>{const r={horizontal:"w-full h-10",vertical:"h-full w-10 py-2 flex-col"},n={vertical:"hover:w-64 transition-[width]",horizontal:"hover:h-64 transition-[height]"};return[r[e.direction],...e.expand?[n[e.direction]]:[]].join(" ")});return(r,n)=>(le(),ke("div",{class:Xe(r.direction!=="vertical"?"h-10 min-h-10 w-screen":"w-10 min-w-10 h-full")},[B("div",{class:Xe([s.value,"left-0 top-0 bg-primary flex border-accent border-b"])},[rt(r.$slots,"default")],2)],2))}}),zp={class:"layout-base"},qp={class:"layout-base__content"},Vp={key:2,class:"layout-base__right"},Kp={key:3,class:"layout-base__bottom"},Gp=je({__name:"Layout.base",props:{stick:{}},setup(t){const e=t,s=r=>{if(e.stick==null||!r)return;const n={top:"sticky top-0 z-50",left:"fixed top-10 z-50",bottom:"",right:""};if(e.stick.includes(r))return[n[r]].join(" ")};return(r,n)=>(le(),ke("div",zp,[r.$slots.top?(le(),ke("aside",{key:0,class:Xe(["layout-base__top",s("top")])},[rt(r.$slots,"top")],2)):bt("",!0),r.$slots.left?(le(),ke("aside",{key:1,class:Xe(["layout-base__left",s("left")])},[rt(r.$slots,"left")],2)):bt("",!0),B("section",qp,[rt(r.$slots,"default")]),r.$slots.right?(le(),ke("aside",Vp,[rt(r.$slots,"right")])):bt("",!0),r.$slots.bottom?(le(),ke("aside",Kp,[rt(r.$slots,"bottom")])):bt("",!0)]))}}),Wp={key:1,class:"cursor-pointer grow-0 text-nowrap text-ellipsis w-auto"},ss=je({__name:"Drawer.element",props:{icon:{},label:{},to:{},highlightActive:{type:Boolean,default:()=>!0}},setup(t){const e=t,s=ol(),r=ge(()=>e.to?s.matched.find(n=>{var i;return typeof e.to=="string"?n.name==e.to:((i=e.to)==null?void 0:i.name)==n.name}):!1);return(n,i)=>(le(),ke("div",{class:Xe([{"route-active":r.value&&n.highlightActive},"drawer-element overflow-x-hidden w-full max-w-full select-none flex flex-nowrap cursor-pointer items-center border-b border-primary hover:border-accent transition-all"])},[(le(),nt(_a(n.to?se(nl):"div"),{to:n.to??{},class:Xe([{"route-active":r.value&&n.highlightActive},"flex gap-2 flex-row p-2 hover:bg-primary-hover overflow-x-clip grow-0 w-full"])},{default:Ge(()=>[n.icon||n.$slots.icon?rt(n.$slots,"icon",{key:0},()=>[n.icon?(le(),nt(oi,{key:0,name:n.icon},null,8,["name"])):bt("",!0)]):bt("",!0),n.label?(le(),ke("label",Wp,Sr(n.label),1)):bt("",!0)]),_:3},8,["to","class"])),rt(n.$slots,"actions")],2))}}),Jp={key:1,class:"w-full flex h-full"},Qp=je({__name:"App",setup(t){const e=Ks();cf(),Ht.auth.onAuthStateChange((n,i)=>{const o=Ks();o._session=i??void 0});const s=ol(),r=ge(()=>s.matched.find(n=>n.meta.title)??void 0);return(n,i)=>(le(),nt(Gp,{stick:["top","left"]},Ic({top:Ge(()=>[Z(Po,{class:"justify-center items-center"},{default:Ge(()=>[Z(ss,{highlightActive:!1,class:"w-min",to:{name:"home"}},{icon:Ge(()=>[Z(ai,{width:"25",height:"25"})]),_:1}),r.value?(le(),nt(ss,{key:0,highlightActive:!1,class:"w-min",to:r.value,label:r.value.meta.title},null,8,["to","label"])):bt("",!0)]),_:1})]),default:Ge(()=>[Z(se(il),null,{default:Ge(({Component:o})=>[se(e).isActing?(le(),ke("div",Jp,[Z(Hp,{class:"m-auto",loading:!0,message:se(e).activeActions.join("<br/>")},null,8,["message"])])):(le(),nt(_a(o),{key:0}))]),_:1})]),_:2},[!se(e).isActionActive("loading")&&se(e).user?{name:"left",fn:Ge(()=>[Z(Po,{direction:"vertical",expand:""},{default:Ge(()=>[Z(ss,{icon:"image",to:{name:"artworks"},label:"Artworks"}),Z(ss,{icon:"add_diamond",to:{name:"slots"},label:"Slots"}),se(e).user?(le(),nt(ss,{key:1,icon:"person",class:"mt-auto",label:se(e).user.email,to:{name:"profile"}},{actions:Ge(()=>[Z(oi,{onClick:i[0]||(i[0]=o=>se(e).logout()),name:"logout",class:"block grow m-auto hover:bg-primary-hover py-2 px-1"})]),_:1},8,["label"])):(le(),nt(ss,{key:0,icon:"person",class:"mt-auto",label:"Login"}))]),_:1})]),key:"0"}:void 0]),1024))}}),Xp=["transform"],Yp=["transform"],Zp=["transform"],eg=je({__name:"Star.graphic",props:{fill:{}},setup(t){const{random:e,max:s}=Math;return(r,n)=>(le(),ke("g",null,[B("circle",it({fill:r.fill},{r:"10",transform:"scale(1, 0.1)"}),null,16),B("circle",it({fill:r.fill},{r:"10",transform:`rotate(45), scale(${se(s)(se(e)()*2,.2)}, 0.1)`}),null,16,Xp),B("circle",it({fill:r.fill},{r:"10",transform:`rotate(-45), scale(${se(s)(se(e)()*2,.2)}, 0.1)`}),null,16,Yp),B("circle",it({fill:r.fill},{r:"10",transform:`rotate(90), scale(${se(s)(se(e)()*2,.2)}, 0.1)`}),null,16,Zp)]))}}),tg=["view-box"],sg=_u('<defs><radialGradient id="starGradient0"><stop offset="0%" stop-color="#FFBBBB"></stop><stop offset="100%" stop-color="transparent"></stop><animate attributeName="fy" dur="700ms" values="0%;90%;0%" repeatCount="indefinite"></animate></radialGradient><radialGradient id="starGradient1"><stop offset="0%" stop-color="#BBFFBB"></stop><stop offset="100%" stop-color="transparent"></stop><animate attributeName="fy" dur="700ms" values="0%;90%;0%" repeatCount="indefinite"></animate></radialGradient><radialGradient id="starGradient2"><stop offset="0%" stop-color="#FFFFBA"></stop><stop offset="100%" stop-color="transparent"></stop><animate attributeName="fy" dur="700ms" values="0%;90%;0%" repeatCount="indefinite"></animate></radialGradient></defs>',1),rg=je({__name:"Starfield.graphic",setup(t){const e=qt({width:0,height:0}),s=qt(),{random:r,max:n}=Math,i=()=>{if(!s.value)return;const{width:a,height:l}=s.value.getBoundingClientRect();e.value={width:a,height:l}},o=()=>{const{width:a,height:l}=e.value,[u,c]=[a,l].map(h=>h*Math.random());return[u,c]};return Pr(()=>{window.addEventListener("resize",i),i()}),Or(()=>{window.removeEventListener("resize",i)}),(a,l)=>(le(),ke("div",it(a.$attrs,{ref_key:"root",ref:s}),[(le(),ke("svg",it(e.value,{"view-box":`0 0 ${e.value.width} ${e.value.height}`,id:"starfield",xmlns:"http://www.w3.org/2000/svg"}),[sg,B("rect",it(e.value,{fill:"black"}),null,16),(le(),ke(Ne,null,jc(100,u=>Z(eg,{key:u,fill:`url(#starGradient${u%3})`,transform:`translate(${o().join(", ")}), scale(${se(n)(.2,se(r)())})`},null,8,["fill","transform"])),64))],16,tg))],16))}}),ng=["src"],nn=je({__name:"Media.icon",props:{name:{},style:{}},setup(t){const e=t;return(s,r)=>(le(),nt(oi,Fl(Ua(e)),{default:Ge(()=>[B("img",it(s.$attrs,{src:se(pp)[s.name]}),null,16,ng)]),_:1},16))}}),ig={ref:"root",class:"h-full relative flex"},og={class:"m-auto flex flex-col items-center justify-center",style:{height:"calc(100vh - 2.5em)"}},ag=B("label",{class:"text-4xl underline"},"HoninWorx",-1),lg=B("label",{class:"text-md text-center p-2"},"The mad works of a dragon named Honin",-1),cg={class:"flex gap-2 justify-center items-center text-center p-2"},ug={href:"https://www.youtube.com/@honinworx"},hg={href:"https://t.me/HoninWorx"},fg={href:"https://ko-fi.com/honinworx"},dg=B("label",{class:"text-xs p-2 text-center"}," Check out these links while this site is getting setup ",-1),pg=je({__name:"HomeView",setup(t){return(e,s)=>(le(),ke("div",ig,[Z(rg,{class:"w-full h-full fixed top-10",style:{"z-index":"-1"}}),B("div",og,[Z(ai,{width:"500",height:"500"}),ag,lg,B("label",cg,[B("a",ug,[Z(nn,{class:"h-8 w-auto",name:"youtube"})]),B("a",hg,[Z(nn,{class:"h-6 w-auto",name:"telegram"})]),B("a",fg,[Z(nn,{class:"h-6 w-auto",name:"ko-fi"})])]),dg])],512))}}),Es=()=>Ht.from("artworks"),Cn=()=>Ht.storage.from("gallery_photos"),Rg=t=>({imagePublicUrl:ge(()=>{const{data:s}=Cn().getPublicUrl(se(t).resource);return s.publicUrl})}),gg={loading:"Loading Artworks",loadingArtwork:"Loading Artwork",save:"Saving Artwork",upload:"Uploading Image",delete:"Deleting artwork"},It=ii(gg),Oo=Qn("ArtworkStore",{state:()=>({_artworks:void 0,_activeArtwork:void 0,_cachedArtwork:void 0,...It.state}),getters:{artworks:({_artworks:t})=>t??[],artwork:({_activeArtwork:t})=>t??{},...It.getters},actions:{preflight(t){return It.runAction(this,"loading",async()=>{await new Promise(s=>setTimeout(s,1e3));const e=Ks();return Es().select("*,resource").eq("author",t??e.user.id).then(({data:s,error:r})=>{if(r)throw r;this._artworks=s})})},clearCurrentArtwork(){delete this._activeArtwork,delete this._cachedArtwork},loadArtwork(t){return It.runAction(this,"loadingArtwork",async()=>{var n,i;this.clearCurrentArtwork();const{data:e,error:s}=await Es().select().eq("id",t).single();if(s||!e)throw s||"Could not find artwork";return this._artworks||(this._artworks=[]),((n=this._artworks)==null?void 0:n.find((o,a,l)=>{if(o.id==t)return!!(this._artworks[a]=o)}))||(i=this._artworks)==null||i.push(e),this._activeArtwork=e,this._cachedArtwork=JSON.parse(JSON.stringify(e)),e})},saveArtworkDetails(){if(!this.artwork)throw"No active artwork to save";return It.runAction(this,"save",async()=>{if(await new Promise(t=>setTimeout(t,1e3)),this.artwork.id){const t=await Es().update(this.artwork).eq("id",this.artwork.id);if(t.error)throw t.error??"Something went wrong during the save";return this.loadArtwork(this.artwork.id)}else{this.artwork.author=Ks().user.id;const t=await Es().insert(this.artwork).select().single();if(t.error||!t.data)throw t.error??"Something went wrong during the save";return this.loadArtwork(t.data.id)}})},saveArtworkFile(t){if(!this.artwork)throw"No active artwork to bind file to";return It.runAction(this,"upload",async()=>{const e=`uploads/${this.artwork.title.split(" ").join("_")}_${t.name}`;return this.artwork.resource=e,await Cn().upload(e,t),await this.saveArtworkDetails()})},deleteArtwork(){if(!this._activeArtwork)throw"No artwork to delete";return It.runAction(this,"delete",async()=>{var s;const{error:t}=await Es().delete().eq("id",this._activeArtwork.id);if(t)throw t??"Could not delete artwork";if((await Cn().remove([this._activeArtwork.resource])).error)throw t??"Could not delete artwork resource";this._artworks=(s=this._artworks)==null?void 0:s.filter(r=>r.id!=this._activeArtwork.id),this.clearCurrentArtwork()})}}}),As=()=>Ht.from("gallery_slots"),_g={loading:"Loading Slots",loadingSlot:"Loading Slot",save:"Saving Slot",delete:"Deleting Slot"},rs=ii(_g),xo=Qn("SlotStore",{state:()=>({_slots:void 0,_activeSlot:void 0,_cachedSlot:void 0,...rs.state}),getters:{slots:({_slots:t})=>t??[],slot:({_activeSlot:t})=>t??ms({}),...rs.getters},actions:{preflight(t){return rs.runAction(this,"loading",async()=>(await new Promise(e=>setTimeout(e,1e3)),As().select("*,artwork(*)").then(({data:e,error:s})=>{if(s)throw s;this._slots=e})))},clearCurrentSlot(){delete this._activeSlot,delete this._cachedSlot},loadSlot(t){return rs.runAction(this,"loadingSlot",async()=>{var n,i;this.clearCurrentSlot();const{data:e,error:s}=await As().select().eq("id",t).single();if(s||!e)throw s||"Could not find slot";return this._slots||(this._slots=[]),((n=this._slots)==null?void 0:n.find((o,a,l)=>{if(o.id==t)return!!(this._slots[a]=o)}))||(i=this._slots)==null||i.push(e),this._activeSlot=e,this._cachedSlot=JSON.parse(JSON.stringify(e)),e})},saveSlotDetails(){if(!this.slot)throw"No active slot to save";return rs.runAction(this,"save",async()=>{var t;if(await new Promise(e=>setTimeout(e,1e3)),(t=this._activeSlot)!=null&&t.id){const e=await As().update(this._activeSlot).eq("id",this._activeSlot.id);if(e.error)throw e.error??"Something went wrong during the save";return this.loadSlot(this._activeSlot.id)}else{const e=await As().insert(this.slot).select().single();if(e.error||!e.data)throw e.error??"Something went wrong during the save";return this.loadSlot(e.data.id)}})},deleteSlot(){if(!this._activeSlot)throw"No artwork to delete";return rs.runAction(this,"delete",async()=>{var e;const{error:t}=await As().delete().eq("id",this._activeSlot.id);if(t)throw t??"Could not delete slot";this._slots=(e=this._slots)==null?void 0:e.filter(s=>s.id!=this._activeSlot.id),this.clearCurrentSlot()})}}}),mg=af({history:Dh("https://darkhonin.github.io/VirtualGallery/"),routes:[{path:"/",name:"home",component:pg},{path:"/auth",name:"auth",component:()=>Fe(()=>import("./Login.view-199_3d2t.js"),__vite__mapDeps([0,1,2]))},{path:"/",name:"root",children:[{path:"/profile",name:"profile",component:()=>Fe(()=>import("./Profile.view-CVl7A-YO.js"),[]),async beforeEnter(t,e,s){Ks().user?s():s({name:"auth"})}},{path:"/artworks",name:"artworks",component:()=>Fe(()=>import("./Artworks.view-DwHFPB-A.js"),__vite__mapDeps([3,4])),async beforeEnter(t,e,s){Oo().preflight(),s()},meta:{title:"Artworks"},children:[{path:"i/:artworkId",name:"artwork_view",component:()=>Fe(()=>import("./Artwork.view-QC_5frTq.js"),__vite__mapDeps([5,1,2])),beforeEnter(t,e,s){const r=Oo();if(r.clearCurrentArtwork(),(e.params.artworkId??t.params.artworkId)!=="new"){const i=parseInt(e.params.artworkId??t.params.artworkId);r.loadArtwork(i)}s()}}]},{path:"/slots",name:"slots",component:()=>Fe(()=>import("./Slots.view-ByPLvuYk.js"),__vite__mapDeps([6,4])),async beforeEnter(t,e,s){xo().preflight(),s()},meta:{title:"Slots"},children:[{path:"i/:slotId",name:"slot_view",component:()=>Fe(()=>import("./Slot.view-BUk7bLGb.js"),__vite__mapDeps([7,1,2,8])),beforeEnter(t,e,s){const r=xo();if(r.clearCurrentSlot(),(e.params.slotId??t.params.slotId)!=="new"){const i=parseInt(e.params.slotId??t.params.slotId);r.loadSlot(i)}s()}}]}]}]}),li=Qu(Qp);li.use(eh());li.use(mg);li.mount("#app");export{wg as A,Fl as B,Ua as C,jc as D,Rg as E,Ne as F,Pr as G,gu as H,Sg as I,vg as K,Hp as _,ke as a,qt as b,ge as c,je as d,nt as e,cf as f,B as g,Z as h,bg as i,bt as j,se as k,Oo as l,yg as m,br as n,le as o,Xe as p,oi as q,rt as r,_a as s,Sr as t,Ks as u,Ht as v,Ge as w,it as x,ol as y,xo as z};
